(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[164],{29288:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;/**@license
 *       __ _____                     ________                              __
 *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
 *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
 *           \/              /____/                              version 2.36.0
 *
 * This file is part of jQuery Terminal. https://terminal.jcubic.pl
 *
 * Copyright (c) 2010-2023 Jakub T. Jankiewicz <https://jcubic.pl/me>
 * Released under the MIT license
 *
 * Contains:
 *
 * Storage plugin Distributed under the MIT License
 * modified to work from Data URIs that block storage and cookies in Chrome
 * Copyright (c) 2010 Dave Schindler
 *
 * jQuery Timers licenced with the WTFPL
 * <http://jquery.offput.ca/timers/>
 *
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 *
 * jQuery Caret
 * Copyright (c) 2009, Gideon Sireling
 * 3 clause BSD License
 *
 * sprintf.js
 * Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>
 * licensed under 3 clause BSD license
 *
 * debounce function from Lodash
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * The MIT License
 *
 * emoji regex v9.0.0 by Mathias Bynens
 * MIT license
 *
 * broken image by Sophia Bai from the Noun Project (CC-BY)
 *
 * Date: Fri, 19 May 2023 12:02:17 +0000
 */!function(t){var u=function(){return u.cache.hasOwnProperty(arguments[0])||(u.cache[arguments[0]]=u.parse(arguments[0])),u.format.call(null,u.cache[arguments[0]],arguments)};u.format=function(t,l){var D,h,g,y,C,F,E,w=1,A=t.length,B="",T=[];for(h=0;h<A;h++)if("string"===(B=f(t[h])))T.push(t[h]);else if("array"===B){if((y=t[h])[2])for(g=0,D=l[w];g<y[2].length;g++){if(!D.hasOwnProperty(y[2][g]))throw u('[sprintf] property "%s" does not exist',y[2][g]);D=D[y[2][g]]}else D=y[1]?l[y[1]]:l[w++];if(/[^s]/.test(y[8])&&"number"!==f(D))throw u("[sprintf] expecting number but found %s",f(D));switch(y[8]){case"b":D=D.toString(2);break;case"c":D=String.fromCharCode(D);break;case"d":D=parseInt(D,10);break;case"e":D=y[7]?D.toExponential(y[7]):D.toExponential();break;case"f":D=y[7]?parseFloat(D).toFixed(y[7]):parseFloat(D);break;case"o":D=D.toString(8);break;case"s":D=(D=String(D))&&y[7]?D.slice(0,y[7]):D;break;case"u":D>>>=0;break;case"x":D=D.toString(16);break;case"X":D=D.toString(16).toUpperCase()}D=/[def]/.test(y[8])&&y[3]&&D>=0?" +"+D:D,F=y[4]?"0"===y[4]?"0":y[4].charAt(1):" ",E=y[6]-String(D).length,C=y[6]?p(F,E):"",T.push(y[5]?D+C:C+D)}return T.join("")},u.cache={},u.parse=function(t){for(var u=t,l=[],f=[],p=0;u;){if(null!==(l=/^[^\x25]+/.exec(u)))f.push(l[0]);else if(null!==(l=/^\x25{2}/.exec(u)))f.push("%");else if(null!==(l=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(u))){if(l[2]){p|=1;var D=[],h=l[2],g=[];if(null!==(g=/^([a-z_][a-z_\d]*)/i.exec(h)))for(D.push(g[1]);""!==(h=h.slice(g[0].length));)if(null!==(g=/^\.([a-z_][a-z_\d]*)/i.exec(h)))D.push(g[1]);else if(null!==(g=/^\[(\d+)\]/.exec(h)))D.push(g[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";l[2]=D}else p|=2;if(3===p)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";f.push(l)}else throw"[sprintf] huh?";u=u.slice(l[0].length)}return f};var l=function(t,l,f){return(f=l.slice(0)).splice(0,0,t),u.apply(null,f)};function f(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function p(t,u){for(var l=[];u>0;l[--u]=t);return l.join("")}t.sprintf=u,t.vsprintf=l}(void 0!==__webpack_require__.g?__webpack_require__.g:self||window),function(t,u){var l;if("undefined"!=typeof window)l=window;else if("undefined"!=typeof self)l=self;else if(void 0!==__webpack_require__.g)l=__webpack_require__.g;else throw Error("Unknow context");void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=(function(u,f){return t(u,f,l),u}).apply(exports,[__webpack_require__(19755),__webpack_require__(71011)]))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(function($,wcwidth,root,undefined){"use strict";function debug(t){}function DelayQueue(){var t=$.Callbacks(),u=!1;this.resolve=function(){t.fire(),u=!0},this.add=function(l){u?l():t.add(l)}}$.omap=function(t,u){var l={};return $.each(t,function(f,p){l[f]=u.call(t,f,p)}),l},$.fn.text_length=function(){return this.map(function(){return $(this).text().length}).get().reduce(function(t,u){return t+u},0)};var localStorage,text_to_clipboard,hash_commands,Clone={clone_object:function(t){var u={};if("object"==typeof t){if($.isArray(t))return this.clone_array(t);if(null===t)return t;for(var l in t)$.isArray(t[l])?u[l]=this.clone_array(t[l]):"object"==typeof t[l]?u[l]=this.clone_object(t[l]):u[l]=t[l]}return u},clone_array:function(t){if(!is_function(Array.prototype.map))throw Error("Your browser don't support ES5 array map use es5-shim");return t.slice(0).map((function(t){return"object"==typeof t?this.clone_object(t):t}).bind(this))}},clone=function(t){return Clone.clone_object(t)};"Map"in root&&!("clear"in Map.prototype)&&(Map.prototype.clear=function(){this.forEach(function(t,u,l){l.delete(u)})}),function(){var t=function(){try{return document.cookie.split(";"),!0}catch(t){return!1}},u=function(){try{var t="test",u=window.localStorage;return u.setItem(t,"1"),u.removeItem(t),!0}catch(t){return!1}}();function l(t,u){var l;if("string"==typeof t&&"string"==typeof u)return localStorage[t]=u,!0;if("object"==typeof t&&void 0===u){for(l in t)t.hasOwnProperty(l)&&(localStorage[l]=t[l]);return!0}return!1}function f(t,u){var l,f,p;if((l=new Date).setTime(l.getTime()+31536e6),f="; expires="+l.toGMTString(),"string"==typeof t&&"string"==typeof u)return document.cookie=t+"="+u+f+"; path=/",!0;if("object"==typeof t&&void 0===u){for(p in t)t.hasOwnProperty(p)&&(document.cookie=p+"="+t[p]+f+"; path=/");return!0}return!1}function p(t){return localStorage[t]}function D(t){var u,l,f,p;for(f=0,u=t+"=",l=document.cookie.split(";");f<l.length;f++){for(p=l[f];" "===p.charAt(0);)p=p.slice(1,p.length);if(0===p.indexOf(u))return p.slice(u.length,p.length)}return null}function h(t){return delete localStorage[t]}function g(t){return f(t,"",-1)}t()||u?(u&&(localStorage=window.localStorage),$.extend({Storage:{set:u?l:f,get:u?p:D,remove:u?h:g}})):(localStorage={},$.extend({Storage:{set:l,get:p,remove:h}}))}();var debounce=function(){var t="Expected a function";function u(t){var u=typeof t;return null!=t&&("object"==u||"function"==u)}function l(){return Date.now()}return function(f,p,D){var h,g,y,C,F,E,w=Math.max,A=Math.min,B=0,T=!1,S=!1,R=!0;if("function"!=typeof f)throw TypeError(t);function O(t){var u=h,l=g;return h=g=undefined,B=t,C=f.apply(l,u)}function L(t){return B=t,F=setTimeout(P,p),T?O(t):C}function I(t){var u=t-E,l=t-B,f=p-u;return S?A(f,y-l):f}function z(t){var u=t-E,l=t-B;return undefined===E||u>=p||u<0||S&&l>=y}function P(){var t=l();if(z(t))return N(t);F=setTimeout(P,I(t))}function N(t){return(F=undefined,R&&h)?O(t):(h=g=undefined,C)}function M(){undefined!==F&&clearTimeout(F),B=0,h=E=g=F=undefined}function H(){return undefined===F?C:N(l())}function W(){var t=l(),u=z(t);if(h=arguments,g=this,E=t,u){if(undefined===F)return L(E);if(S)return F=setTimeout(P,p),O(E)}return undefined===F&&(F=setTimeout(P,p)),C}return p=p||0,u(D)&&(T=!!D.leading,y=(S="maxWait"in D)?w(D.maxWait||0,p):y,R="trailing"in D?!!D.trailing:R),W.cancel=M,W.flush=H,W}}(),jQuery=$;function make_callback_plugin(t){var u=$.extend({init:$.noop,destroy:$.noop,name:"event"},t);return function(t,l){var f=0==arguments.length,p="unbind"===arguments[0];if(!f&&!p&&!is_function(t))throw Error('Invalid argument, it need to a function or string "unbind" or no arguments.');p&&(t=is_function(arguments[1])?arguments[1]:null);var D="callbacks_"+u.name;return this.each(function(){var h,g=$(this);function y(t){h.fireWith(g,[t])}f||p?(h=g.data(D),f?h&&h.fire():(t&&h?(h.remove(t),h.has()||(h=null)):h=null,h||(g.removeData(D),u.destroy.call(this,y,l)))):g.data(D)?$(this).data(D).add(t):((h=$.Callbacks()).add(t),g.data(D,h),u.init.call(this,y,l))})}}function jquery_resolve(t){var u=jQuery.Deferred();return u.resolve(t),u.promise()}function unpromise(t,u,l){if(undefined!==t){if(is_promise(t)){if(is_function(t.catch)&&is_function(l)&&t.catch(l),is_function(t.done))return t.done(u);if(is_function(t.then))return t.then(u)}else if(t instanceof Array&&t.filter(function(t){return t&&(is_function(t.done)||is_function(t.then))}).length){var f=$.when.apply($,t).then(function(){return u([].slice.call(arguments))});return is_function(f.catch)&&(f=f.catch(l)),f}return u(t)}}function always(t){return undefined===t||t}(function(t){jQuery.fn.extend({everyTime:function(t,u,l,f,p){return this.each(function(){jQuery.timer.add(this,t,u,l,f,p)})},oneTime:function(t,u,l){return this.each(function(){jQuery.timer.add(this,t,u,l,1)})},stopTime:function(t,u){return this.each(function(){jQuery.timer.remove(this,t,u)})}}),jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(t){if(null==t)return null;var u=this.regex.exec(jQuery.trim(t.toString()));return u[2]?parseInt(u[1],10)*(this.powers[u[2]]||1):t},add:function(t,u,l,f,p,D){var h=0;if(jQuery.isFunction(l)&&(p||(p=f),f=l,l=u),!("number"!=typeof(u=jQuery.timer.timeParse(u))||isNaN(u))&&!(u<=0)){p&&p.constructor!==Number&&(D=!!p,p=0),p=p||0,D=D||!1,t.$timers||(t.$timers={}),t.$timers[l]||(t.$timers[l]={}),f.$timerID=f.$timerID||this.guid++;var g=function(){D&&g.inProgress||(g.inProgress=!0,(++h>p&&0!==p||!1===f.call(t,h))&&jQuery.timer.remove(t,l,f),g.inProgress=!1)};g.$timerID=f.$timerID,t.$timers[l][f.$timerID]||(t.$timers[l][f.$timerID]=setInterval(g,u)),this.global[l]||(this.global[l]=[]),this.global[l].push(t)}},remove:function(t,u,l){var f,p=t.$timers;if(p){if(u){if(p[u]){if(l)l.$timerID&&(clearInterval(p[u][l.$timerID]),delete p[u][l.$timerID]);else for(var D in p[u])p[u].hasOwnProperty(D)&&(clearInterval(p[u][D]),delete p[u][D]);for(f in p[u])if(p[u].hasOwnProperty(f))break;f||(f=null,delete p[u])}}else for(var h in p)p.hasOwnProperty(h)&&this.remove(t,h,l);for(f in p)if(p.hasOwnProperty(f))break;f||(t.$timers=null)}}}}),/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&t(window).one("unload",function(){var t=jQuery.timer.global;for(var u in t)if(t.hasOwnProperty(u))for(var l=t[u],f=l.length;--f;)jQuery.timer.remove(l[f],u)})})(jQuery),function(t){if(String.prototype.split.toString().match(/\[native/)){var u,l=String.prototype.split,f=/()??/.exec("")[1]===t;u=function(u,p,D){if("[object RegExp]"!==Object.prototype.toString.call(p))return l.call(u,p,D);var h,g,y,C,F=[],E=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.extended?"x":"")+(p.sticky?"y":""),w=0;for(p=RegExp(p.source,E+"g"),u+="",f||(h=RegExp("^"+p.source+"$(?!\\s)",E)),D=D===t?4294967295:D>>>0;(g=p.exec(u))&&(!((y=g.index+g[0].length)>w)||(F.push(u.slice(w,g.index)),!f&&g.length>1&&g[0].replace(h,function(){for(var u=1;u<arguments.length-2;u++)arguments[u]===t&&(g[u]=t)}),g.length>1&&g.index<u.length&&Array.prototype.push.apply(F,g.slice(1)),C=g[0].length,w=y,!(F.length>=D)));)p.lastIndex===g.index&&p.lastIndex++;return w===u.length?(C||!p.test(""))&&F.push(""):F.push(u.slice(w)),F.length>D?F.slice(0,D):F},String.prototype.split=function(t,l){return u(this,t,l)}}}(),$.fn.caret=function(t){var u=this[0],l="true"===u.contentEditable;if(0==arguments.length){if(window.getSelection){if(l){this.is(":focus")||u.focus();var f=window.getSelection().getRangeAt(0),p=f.cloneRange();return p.selectNodeContents(u),p.setEnd(f.endContainer,f.endOffset),p.toString().length}return u.selectionStart}if(document.selection){if(u.focus(),l){var f=document.selection.createRange(),p=document.body.createTextRange();return p.moveToElementText(u),p.setEndPoint("EndToEnd",f),p.text.length}var t=0,D=u.createTextRange(),p=document.selection.createRange().duplicate(),h=p.getBookmark();for(D.moveToBookmark(h);0!==D.moveStart("character",-1);)t++;return t}return 0}if(-1===t&&(t=this[l?"text":"val"]().length),window.getSelection){if(l){this.is(":focus")||u.focus();var g=window.getSelection();g.collapse(g.focusNode,t)}else u.setSelectionRange(t,t)}else if(document.body.createTextRange){var D=document.body.createTextRange();D.moveToElementText(u),D.moveStart("character",t),D.collapse(!0),D.select()}return l||this.is(":focus")||u.focus(),t},$.fn.resizer=make_callback_plugin({name:"resize",init:function(t,u){var l,f=$.extend({prefix:""},u),p=$(this),D=!0;if(p.is("body"))$(window).on("resize.resizer",t);else if(window.ResizeObserver)(l=new ResizeObserver(function(){D||t(),D=!1})).observe(this),p.data("observer",l);else{var h=$("<iframe/>").addClass(f.prefix+"resizer").appendTo(this)[0];$(h.contentWindow).on("resize",t)}},destroy:function(){var t=$(this);if(window.ResizeObserver){var u=t.data("observer");u&&(u.unobserve(this),t.removeData("observer"))}else{var l=t.find('> iframe[class$="resizer"]');l.length?($(l[0].contentWindow).off("resize").remove(),l.remove()):t.is("body")&&$(window).off("resize.resizer")}}}),$.fn.touch_scroll=make_callback_plugin({name:"touch",init:function(t){var u,l;$(this).on("touchstart.scroll",function(t){"a"!==(t=t.originalEvent).target.tagName.toLowerCase()&&1===t.touches.length&&(l=u=t.touches[0])}).on("touchmove.scroll",function(f){if(f=f.originalEvent,u&&1===f.touches.length){var p=f.touches[0];!1===t({origin:u,previous:l,current:p})&&f.preventDefault(),l=p}}).on("touchend.scroll",function(){(u||l)&&(u=l=null)})},destroy:function(){$(this).off("touchstart.scroll touchmove.scroll touchend.scroll")}}),$.fn.on_load=function(t){var u=$.extend({error:$.noop,load:$.noop,done:$.noop},t),l=[];return this.find("img,iframe").each(function(){var t=$(this),f=new $.Deferred;t.on("load",f.resolve).on("error",function(){u.error(t),f.reject()}),l.push(f)}),u.load(!!l.length),l.length?$.when.apply($,l).then(function(){u.done(!0)}):u.done(!1),this},$.fn.is_fully_in_viewport=function(){function t(t,u){var l=t.getBoundingClientRect(),f=u[0].getBoundingClientRect(),p=l.top-f.top,D=l.bottom-f.top,h=u.height();return D>0&&p<=h}return root.IntersectionObserver?function(t){var u=this[0],l=jQuery.Deferred(),f=new root.IntersectionObserver(function(t){l.resolve(t[0].isIntersecting&&1===t[0].ratio),f.unobserve(u)},{root:t[0]});return f.observe(u),l.promise()}:function(u){return jquery_resolve(t(this[0],u))}}();var entity_re=/(&(?:[a-z\d]+|#\d+|#x[a-f\d]+);)/i,space_re=/\s/,combine_chr_re=/(.(?:[\u0300-\u036F]|[\u1AB0-\u1abE]|[\u1DC0-\u1DF9]|[\u1DFB-\u1DFF]|[\u20D0-\u20F0]|[\uFE20-\uFE2F])+)/,astral_symbols_re=/([\uD800-\uDBFF][\uDC00-\uDFFF])/,emoji_re=/(\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC3B\u200D\u2744|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD]))/,mobile_re=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,tablet_re=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,format_split_re=/(\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\](?:[^\]\\]*(?:\\\\)*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i,format_parts_re=/\[\[((?:-?[@!gbiuso])*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]\\]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]+)\]?/gi,format_re=/\[\[((?:-?[@!gbiuso])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,format_exist_re=/\[\[((?:-?[@!gbiuso])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi,format_full_re=/^(\[\[(?:(?:-?[@!gbiuso])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\])([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)(\])$/i,format_begin_re=/(\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\])/i,format_start_re=/^(\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\])/i,format_end_re=/\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\]?$/i,self_closing_re=/^(?:\[\[)?[^;]*@[^;]*;/,color_re=/^(?:#([0-9a-f]{3}|[0-9a-f]{4}|[0-9a-f]{6}|[0-9a-f]{8})|rgba?\([^)]+\)|hsla?\([^)]+\))$/i,url_re=/(\b(?:file|ftp|https?):\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'\\<>\][)])+)/gi,url_nf_re=/\b(?![^"\s[\]]*])(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'\\<>\][)])+)/gi,email_re=/((([^<>('")[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g,url_full_re=/^(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\\\][)])+)$/gi,email_full_re=/^((([^<>('")[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))$/g,command_re=/((?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimsuy]*(?=\s|$)|(?:\\\s|\S))+)(?=\s|$)/gi,extended_command_re=/^\s*((terminal|cmd)::([a-z_]+)\(([\s\S]*)\))\s*$/,format_exec_split_re=/(\[\[(?:-?[@!gbiuso])*;[^\]]+\](?:\\[[\]]|[^\]])*\]|\[\[[\s\S]+?\]\])/,format_exec_re=/(\[\[[\s\S]+?\]\])/,float_re=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,re_re=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimsuy]*)$/,string_re=/("(?:[^"\\]|\\(?:\\\\)*"|\\\\)*"|'(?:[^'\\]|\\(?:\\\\)*'|\\\\)*'|`(?:[^`\\]|\\(?:\\\\)*`|\\\\)*`)/,unclosed_strings_re=/^(?=((?:[^"']+|"[^"\\]*(?:\\[^][^"\\]*)*"|'[^'\\]*(?:\\[^][^'\\]*)*')*))\1./,broken_image='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 14"><title id="title2">rounded</title><path id="terminal-broken-image" d="m 14,10 h 2 v 1 a 3,3 0 0 1 -3,3 H 3 A 3,3 0 0 1 0,11 H 4.5 A 1.00012,1.00012 0 0 0 5.207,10.707 L 6.5,9.414 7.793,10.707 a 0.99963,0.99963 0 0 0 1.41406,0 l 2.36719,-2.36719 1.80127,1.44092 A 0.99807,0.99807 0 0 0 14,10 Z M 16,3 V 8 H 14.35059 L 12.12451,6.21924 A 0.99846,0.99846 0 0 0 10.793,6.293 L 8.5,8.586 7.207,7.293 a 0.99962,0.99962 0 0 0 -1.41406,0 L 4.08594,9 H 0 V 3 A 3,3 0 0 1 3,0 h 10 a 3,3 0 0 1 3,3 z M 6,4.5 A 1.5,1.5 0 1 0 4.5,6 1.5,1.5 0 0 0 6,4.5 Z" /></svg>',use_broken_image='<svg class="terminal-broken-image" role="presentation" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 14" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#terminal-broken-image"/></svg>',animation_supported=function(){if("undefined"==typeof document)return!1;var t=!1,u="Webkit Moz O ms Khtml".split(" "),l=document.createElement("div");if(l.style.animationName&&(t=!0),!1===t)for(var f=0;f<u.length;f++){var p=u[f]+"AnimationName";if(undefined!==l.style[p]){t=!0;break}}return l=null,t}(),agent=(root.navigator||window.navigator).userAgent,is_IE=/MSIE|Trident/.test(agent)||/rv:11.0/i.test(agent),is_IEMobile=/IEMobile/.test(agent),is_ch_unit_supported=function(){if(is_IE&&!is_IEMobile)return!1;if("undefined"==typeof document)return!0;var t=document.createElement("div");return t.style.width="1ch","1ch"===t.style.width}(),is_css_variables_supported=root.CSS&&root.CSS.supports&&root.CSS.supports("--fake-var",0),is_android=-1!==navigator.userAgent.toLowerCase().indexOf("android"),is_key_native=function(){return"KeyboardEvent"in root&&"key"in root.KeyboardEvent.prototype&&!!Object.getOwnPropertyDescriptor(root.KeyboardEvent.prototype,"key").get.toString().match(/\[native code\]/)}(),is_browser=function(){try{return this===window}catch(t){return!1}}(),is_mobile=function(t){var u=!1;return(mobile_re.test(t)||tablet_re.test(t.substr(0,4)))&&(u=!0),"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||u}(navigator.userAgent||navigator.vendor||root.opera),ch_unit_bug=!1;function css(t,u,l){if(t instanceof $.fn.init)t.each(function(){css(this,u,l)});else if($.isPlainObject(u))Object.keys(u).forEach(function(l){t.style.setProperty(l,u[l])});else{if(void 0===l)return t.style.getPropertyValue(u);t.style.setProperty(u,l)}}function style_prop(t,u,l){var f=[t+":"+u+"px",t+":calc("+u+"px / var(--pixel-density, 1))"];return l&&(f=f.map(function(t){return t+" !important"})),f.join(";")}function a11y_hide(t){t.attr({role:"presentation","aria-hidden":"true"})}is_browser&&$(function(){function t(t){return t[0].getBoundingClientRect().width}var u='<span style="font-family: monospace;visibility:hidden;',l=$(u+'width:1ch;overflow: hidden">&nbsp;</span>');l.appendTo("body");var f=$(u+'">&nbsp;</span>').appendTo("body");ch_unit_bug=Math.abs(t(l)-t(f))>1e-4,l.remove(),f.remove()});var excepctions=[];function alert_exception(t,u){arguments[0]instanceof $.terminal.Exception&&(t=arguments[0].type,u=arguments[0]);var l=(t?t+": ":"")+exception_message(u);-1===excepctions.indexOf(l)&&(excepctions.push(l),setTimeout(function(){throw u},0))}function generate_id(){var t=46656*Math.random()|0,u=46656*Math.random()|0;return(t=("000"+t.toString(36)).slice(-3))+(u=("000"+u.toString(36)).slice(-3))}function scrollbar_event(t,u,l){l=l||1;var f=u.offset().left;return u.outerWidth()*l<=t.clientX-f}function exception_message(t){return"string"==typeof t?t:"string"==typeof t.fileName?t.fileName+": "+t.message:t.message}function Cycle(){var t=[].slice.call(arguments),u=0;$.extend(this,{get:function(){return t},index:function(){return u},rotate:function(l,f){if(undefined===f)f=u;else if(f===u)return;return(l||t.filter(function(t){return void 0!==t}).length)&&t.length?1===t.length?t[0]:(u===t.length-1?u=0:++u,void 0!==t[u])?t[u]:this.rotate(!0,f):void 0},length:function(){return t.length},remove:function(u){delete t[u]},set:function(l){for(var f=t.length;f--;)if(t[f]===l){u=f;return}this.append(l),u=t.length-1},front:function(){if(t.length){for(var l=u,f=!1;!t[l];)if(++l>t.length){if(f)break;l=0,f=!0}return t[l]}},map:function(u){return t.map(function(t,l){return void 0!==t?u(t,l):null}).filter(Boolean)},forEach:function(u){return t.forEach(function(t,l){void 0!==t&&u(t,l)})},append:function(u){t.push(u)}})}function Stack(t){var u=is_array(t)?t:t?[t]:[];$.extend(this,{data:function(){return u},map:function(t){return $.map(u,t)},size:function(){return u.length},pop:function(){if(0===u.length)return null;var t=u[u.length-1];return u=u.slice(0,u.length-1),t},push:function(t){return u=u.concat([t]),t},top:function(){return u.length>0?u[u.length-1]:null},clone:function(){return new Stack(u.slice(0))}})}function WorkerCache(t){var u=$.extend({validation:$.noop,action:$.noop,onCache:$.noop},t);this._onCache=u.onCache.bind(this),this._action=u.action.bind(this),this._validation=u.validation.bind(this),"Map"in root&&(this._cache=new Map)}function History(t,u,l){var f,p=!0,D="";"string"==typeof t&&""!==t&&(D=t+"_"),D+="commands";var h=(f=l?[]:(f=$.Storage.get(D))?JSON.parse(f):[]).length-1;$.extend(this,{append:function(t){p&&f[f.length-1]!==t&&(f.push(t),u&&f.length>u&&(f=f.slice(-u)),h=f.length-1,l||$.Storage.set(D,JSON.stringify(f)))},set:function(t){is_array(t)&&(f=t,l||$.Storage.set(D,JSON.stringify(f)))},data:function(){return f},reset:function(){h=f.length-1},last:function(){return f[f.length-1]},end:function(){return h===f.length-1},position:function(){return h},current:function(){return f[h]},next:function(){var t=h;if(h<f.length-1&&++h,t!==h)return f[h]},previous:function(){var t=h;if(h>0&&--h,t!==h)return f[h]},clear:function(){f=[],this.purge()},enabled:function(){return p},enable:function(){p=!0},purge:function(){l||$.Storage.remove(D)},disable:function(){p=!1},toggle:function(t){p=void 0===t?!p:t}})}function OutputLines(t){this._settings=t,this._lines=[],this._snapshot=[]}function FormatBuffer(t){this._options=t,"Map"in root&&(this._format_cache=new Map),this._output_buffer=[]}function with_prompt(t,u,l){function f(t){var l=$.terminal.escape_brackets("[ERR]> ");u("[[;red;]"+l+"]"),alert_exception("Prompt",t)}function p(t){u(t),D.resolve()}var D=new $.Deferred;switch(typeof t){case"string":p(t);break;case"function":try{var h=t.call(l,function(t){p(t)});"string"==typeof h&&p(h),h&&h.then&&h.then(p).catch(f)}catch(t){f(t)}}return D.promise()}WorkerCache.prototype.validate=function(t){var u=this._validation(t),l=undefined===u||!0===u;return l||this._cache.clear(),l},WorkerCache.prototype.clear=function(){this._cache.clear()},WorkerCache.prototype.get=function(t){var u;return this._cache?this.validate(t)&&this._cache.has(t)?(u=this._cache.get(t),this._onCache({cache:u}),u):(u=this._action(t),this._cache.set(t,u),u):this._action(t)},OutputLines.prototype.make_snapshot=function(t){this._snapshot.push(t)},OutputLines.prototype.get_partial=function(){return this._snapshot[this._snapshot.length-1]},OutputLines.prototype.update_snapshot=function(t,u){this._snapshot[t]=u},OutputLines.prototype.limit_snapshot=function(t){this._snapshot=this._snapshot.slice(t)},OutputLines.prototype.clear_snapshot=function(){this._snapshot=[]},OutputLines.prototype.get_snapshot=function(){return this._snapshot.reduce(function(t,u){return t.concat(u)},[]).join("\n")},OutputLines.prototype.join=function(){var t=[].slice.call(arguments);return t.some(is_function)?function(){return t.reduce(function(t,u){return(is_function(t)&&(t=t()),is_function(u)&&(u=u()),is_promise(t)||is_promise(u))?$.when(t,u).then(function(t,u){return t+u}):u})}:t.some(is_promise)?t.reduce(function(t,u){return $.when(t,u).then(function(t,u){return t+u})}):t.join("")},OutputLines.prototype.import=function(t){this._lines=t},OutputLines.prototype.push=function(t){var u=t[0],l=t[1];if(this.has_newline())this._lines.push(t);else{var f=this.last_line();f[0]=this.join(f[0],u),f[1].newline=l.newline}},OutputLines.prototype.clear=function(t){this._lines.forEach(function(u,l){var f=u[1];is_function(f.onClear)&&f.onClear.call(self,t(l))}),this._lines=[],this._snapshot=[]},OutputLines.prototype.data=function(){return this._lines},OutputLines.prototype.has_newline=function(){return 0===this._lines.length||this.last_line()[1].newline},OutputLines.prototype.unmount=function(t){var u=t.data("index"),l=this._lines[u];if(l){var f=l[1];is_function(f.unmount)&&f.unmount.call(self,t)}},OutputLines.prototype.last_line=function(){var t=this._lines.length;return this._lines[t-1]},OutputLines.prototype.update=function(t,u,l){if(null!==u)return this._lines[t][0]=u,l&&(this._lines[t][1]=$.extend(this._lines[t][1],l)),this._lines[t][1];this._lines.splice(t,1)},OutputLines.prototype.length=function(){return this._lines.length},OutputLines.prototype.valid_index=function(t){return!!this._lines[t]},OutputLines.prototype.render=function(t,u){var l=this._settings(),f=[];if(this._snapshot=[],l.outputLimit>=0){p=0===l.outputLimit?t:l.outputLimit,this._lines.forEach(function(t,u){var l=t[0],p=t[1];f.push({value:l,index:u,options:p})});var p,D=f.length-p-1;f=f.slice(D)}else f=this._lines.map(function(t,u){return{value:t[0],index:u,options:t[1]}});return u(f)},FormatBuffer.NEW_LINE=1,FormatBuffer.prototype.format=function(t,u,l){var f=this._format_cache&&this._settings.useCache;if(f){var p=JSON.stringify([t,this._settings]);if(this._format_cache.has(p))return this._format_cache.get(p)}var D={line:$.terminal.format(t,this._settings),raw:l,newline:u};return f&&this._format_cache.set(p,D),D},FormatBuffer.prototype.empty=function(){return!this._output_buffer.length},FormatBuffer.prototype.append=function(t,u,l,f){if(this._settings=$.extend({useCache:!0},this._options(l)),this._output_buffer.push(FormatBuffer.NEW_LINE),t instanceof Array)for(var p=f.split("\n"),D=0,h=t.length;D<h;++D)if(""===t[D]||"\r"===t[D])this._output_buffer.push({line:"",raw:""});else{var g=this.format(t[D],D===h-1,p[D]);this._output_buffer.push(g)}else l.raw?this._output_buffer.push({line:t,raw:f}):this._output_buffer.push(this.format(t,!1,f));this._output_buffer.push({finalize:l.finalize,index:u,raw:l.raw,newline:l.newline})},FormatBuffer.prototype.clear_cache=function(){this._format_cache&&this._format_cache.clear()},FormatBuffer.prototype.output=function(){return this._output_buffer.slice()},FormatBuffer.prototype.is_empty=function(){return!this._output_buffer.length},FormatBuffer.prototype.clear=function(){this._output_buffer=[]},FormatBuffer.prototype.forEach=function(t){for(var u=0;u<this._output_buffer.length;){var l=this._output_buffer[u++];l===FormatBuffer.NEW_LINE?t():t(l)}},FormatBuffer.prototype.flush=function(t){this.forEach(t),this.clear()};var cmd_index=0;$.cmd={defaults:{mask:!1,caseSensitiveSearch:!0,historySize:60,prompt:"> ",enabled:!0,history:!0,onPositionChange:$.noop,onCommandChange:$.noop,inputStyle:"textarea",mobileDelete:is_mobile,onPaste:$.noop,clickTimeout:200,holdTimeout:400,holdRepeatTimeout:200,mobileIngoreAutoSpace:[],repeatTimeoutKeys:[],tabindex:1,tabs:4}},$.fn.cmd=function(t){var u,l,f,p,D,h,g,y,C,F,E,w,A,B,T,S,R,O,L,I,z=$.extend({},$.cmd.defaults,t);function P(t){return z.mobileIngoreAutoSpace.length&&-1!==z.mobileIngoreAutoSpace.indexOf(t)&&is_android}var N=this,M=N.data("cmd");if(M)return M;var H=cmd_index++;N.addClass("cmd");var W=$('<div class="cmd-wrapper"/>').appendTo(N);W.append('<span class="cmd-prompt"></span>'),W.append('<div class="cmd-cursor-line"><span></span><span class="cmd-cursor"><span data-text class="end"><span>&nbsp;</span></span></span><span></span></div>');var U=W.find(".cmd-cursor-line");a11y_hide(U),is_mobile?(u=function(){var t,u=$('<div class="cmd-editable" contenteditable/>').attr({autocapitalize:"off",autocorrect:"off",spellcheck:"false",tabindex:z.tabindex}).insertAfter(N);u.on("focus",function(){N.enable()}).on("blur",function(){N.disable()});var l={$node:u,val:function(t){if(void 0===t)return u.text();u.html(t)},reset:function(){clearTimeout(t),t=setTimeout(function(){u.css({top:"",bottom:""})},100)},focus:function(){css(u[0],{top:"calc(var(--terminal-scroll, 0) * 1px)"}),l.reset()},blur:function(){u.css({top:"100%",bottom:0}).blur(),window.getSelection().removeAllRanges(),l.reset()}};return l}(),N.addClass("cmd-mobile")):(u=function(){var t=generate_id(),u=$("<textarea>").attr({autocapitalize:"off",spellcheck:"false",id:t,tabindex:z.tabindex}).addClass("cmd-clipboard").appendTo(N);return u.before('<label class="visually-hidden" for="'+t+'">Clipboard textarea for jQuery Terminal</label>'),{$node:u,val:function(t){return void 0===t?u.val():u.val(t)}}}()).val(" "),z.width&&N.width(z.width);var q=0,K=N.find(".cmd-prompt"),J=!1,Y="",V=null,G="",X="",Z=0,Q=0,ee=N.find(".cmd-cursor"),et=0,en="￿",er=/\uFFFF$/,ei=/^\uFFFF$/;function eo(t){var u=$(t.target);if(u.is("span,img,a"))return(u=u.closest("[data-text]")).index()+u.parent("span").prevAll().find("[data-text]").length+u.closest('[role="presentation"]').prevUntil(".cmd-prompt").find("[data-text]").length;if(u.is('div[role="presentation"]')){var l=!u.next().length;return u.find("[data-text]").length+u.prevUntil(".cmd-prompt").find("[data-text]").length-(l?0:1)}}var eu={SPACEBAR:" ",UP:"ArrowUP",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight",DEL:"Delete",MULTIPLY:"*",DIVIDE:"/",SUBTRACT:"-",ADD:"+"};function ea(t){var u=t.key.toUpperCase();return eu[u]?eu[u]:u}function es(t){if(t.key){var u=ea(t).toUpperCase();if("CONTROL"===u)return"CTRL";var l=[];return t.ctrlKey&&l.push("CTRL"),t.metaKey&&"META"!==u&&l.push("META"),t.shiftKey&&"SHIFT"!==u&&l.push("SHIFT"),t.altKey&&"ALT"!==u&&l.push("ALT"),l.length&&" "===u&&(u="SPACEBAR"),t.key&&l.push(u),l.join("+")}}var el={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};for(S=1;S<25;S++)el[111+S]="F"+S;var ec="";for(S=65;S<91;S++)ec=String.fromCharCode(S),el[S]=[ec.toLowerCase(),ec.toUpperCase()];var ef={};Object.keys(el).forEach(function(t){is_array(el[t])?el[t].forEach(function(u){ef[u.toUpperCase()]=t}):ef[el[t].toUpperCase()]=t});var ep={"ALT+D":eD({clipboard:!0}),"HOLD+ALT+D":eD({clipboard:!0,hold:!0}),"HOLD+DELETE":eD({clipboard:!1,hold:!0}),"HOLD+SHIFT+DELETE":eD({clipboard:!1,hold:!0}),ENTER:function(){A&&G&&!z.mask&&(is_function(z.historyFilter)&&z.historyFilter(G)||z.historyFilter instanceof RegExp&&G.match(z.historyFilter)||!z.historyFilter)&&A.append(G);var t,l=G;return u.$node.blur(),A.reset(),to="",te=!0,z.commands&&(t=z.commands.call(N,l)),is_function(F)&&(t&&is_function(t.then)?t.then(eQ):eQ()),N.set(""),u.val(""),u.$node.focus(),!1},"SHIFT+ENTER":function(){return N.insert("\n"),!0},BACKSPACE:ex,"SHIFT+BACKSPACE":ex,TAB:function(){N.insert("	")},"CTRL+D":function(){return N.delete(1),!1},DELETE:function(){return N.delete(1),!0},"HOLD+ARROWUP":eF,ARROWUP:eF,"CTRL+ARROWUP":ev,"CTRL+P":ev,ARROWDOWN:eE,"HOLD+ARROWDOWN":eE,"CTRL+N":ey,"CTRL+ARROWDOWN":ey,ARROWLEFT:ew,"HOLD+ARROWLEFT":debounce(ew,10),"CTRL+B":ew,"CTRL+ARROWLEFT":function(){var t=Z-1,u=0;" "===G[t]&&--t;for(var l=t;l>0;--l){if(" "===G[l]&&" "!==G[l+1]){u=l+1;break}if("\n"===G[l]&&"\n"!==G[l+1]){u=l;break}}N.position(u)},"CTRL+R":function(){return J?ez(!0):(y=F,eL(),C=G,N.set(""),eG(),J=!0),!1},"CTRL+G":function(){if(J)return F=y,eQ(),N.set(C),eG(),J=!1,Y="",!1},ARROWRIGHT:ek,"HOLD+ARROWRIGHT":debounce(ek,10),"CTRL+F":ek,"CTRL+ARROWRIGHT":function(){" "===G[Z]&&++Z;var t=/\S[\n\s]{2,}|[\n\s]+\S?/,u=G.slice(Z).match(t);!u||u[0].match(/^\s+$/)?N.position(bare_text(G).length):" "!==u[0][0]?Z+=u.index+1:(Z+=u.index+u[0].length-1," "!==u[0][u[0].length-1]&&--Z),eG()},F12:ed,END:eB(!0),"CTRL+END":eB(),"CTRL+E":eB(),HOME:eA(!0),"CTRL+HOME":eA(),"CTRL+A":eA(),"SHIFT+INSERT":eh,"CTRL+SHIFT+T":ed,"CTRL+W":em({clipboard:!0,hold:!1}),"HOLD+BACKSPACE":em({clipboard:!1,hold:!0}),"HOLD+SHIFT+BACKSPACE":em({clipboard:!1,hold:!0}),"CTRL+H":function(){return""!==G&&Z>0&&N.delete(-1),!1},"CTRL+X":ed,"CTRL+C":function(){return""===get_selected_html()},"CTRL+T":ed,"CTRL+Y":function(){""!==X&&N.insert(X)},"CTRL+V":eh,"META+V":eh,"CTRL+K":function(){var t=text(G).length;return t>Z&&(X=N.delete(t-Z),text_to_clipboard(u.$node,X)),!1},"CTRL+U":function(){return""!==G&&0!==Z&&(X=N.delete(-Z),text_to_clipboard(u.$node,X)),!1},"CTRL+TAB":function(){return!1},"META+`":ed,"META+R":ed,"META+L":ed};function eD(t){return(t=t||{}).hold&&!z.mobileDelete?function(){return N.delete(1),!1}:function(){var l=/ *[^ ]+ *(?= )|[^ ]+$/,f=G.slice(Z).match(l);return f&&(X=f[0],t.clipboard&&text_to_clipboard(u.$node,X)),N.set(G.slice(0,Z)+G.slice(Z).replace(l,""),!0),!1}}function em(t){return(t=t||{}).hold&&!z.mobileDelete?function(){N.delete(-1)}:function(){if(""!==G&&0!==Z){var l=G.slice(0,Z).match(/([^ ]* *$)/);l[0].length&&(X=N.delete(-l[0].length),t.clipboard&&text_to_clipboard(u.$node,X))}return!1}}function ed(){return!0}function eh(){return u.val(""),et=0,N.isenabled()&&!u.$node.is(":focus")&&u.$node.trigger("focus",[!0]),u.$node.one("input",eg),!0}function eg(){function t(){u.val(G),eR()}function l(u){N.insert(u),t()}!(et++>0)&&N.isenabled()&&N.oneTime(100,function(){var f=u.val().replace(/\r/g,"");if(is_function(z.onPaste)){var p=z.onPaste.call(N,{target:N,text:f});if(undefined!==p){p&&is_function(p.then||p.done)?(p.then||p.done).call(p,l):"string"==typeof p?l(p):!1===p&&t();return}}l(f)})}function ev(){return e8?(C=G,N.set(A.current())):N.set(A.previous()),e8=!1,!1}function ey(){return A.end()?(e8=!0,N.set(C)):N.set(A.next()),!1}function eC(t){return t.match(/\n/)}function e_(t,u){var f=t.split("\n").map(function(t){return $.terminal.length(t)});return u&&(f[0]+=u),!!f.filter(function(t){return t>=l}).length}function eb(t){var u=p,f=$.terminal.split_equal(u+t,l),D=RegExp("^"+$.terminal.escape_regex(u));return(f=f.map($.terminal.unescape_brackets))[0]=f[0].replace(D,""),f}function eF(){var t=$.terminal.substring(G,0,Z),u=N.column(),l=N.find(".cmd-cursor-line"),f=l.prevUntil("span").length;if(1===f&&u<=g)return N.position(0),!1;if(0===f||!(eC(t)||e_(t,g)))return ev();var p,D=l.prev(),h=D.is(".cmd-end-line"),y=eb(G);return D=y[f-1],y[f].substring(u).length>0?(p=u,f-1==0&&(p-=g),p=u+D.substring(p).length,h&&++p):p=u+1,N.position(-p,!0),!1}function eE(){var t=$.terminal.substring(G,Z);if(!(eC(t)||e_(t)))return ey();var u,l=eb(G),f=N.column(),p=N.find(".cmd-cursor-line"),D=p.prevUntil("span").length,h=p.is(".cmd-end-line"),y=p.next().is(".cmd-end-line"),C=l[D+1];if(!C)return ey();var F=l[D].substring(f).length;return 0===F?(u=C.length,y&&u++):(u=Math.min(f,C.length)+F,0===D&&(u+=g),h&&(u+=1)),N.position(u,!0),!1}function ex(){J?(Y=Y.slice(0,-1),eL()):""!==G&&Z>0&&N.delete(-1),N.oneTime(1,function(){te=!0})}function ew(){Z>0&&N.position(-1,!0)}function ek(){return Z<bare_text(G).length&&N.position(1,!0),!1}function eA(t){function u(){N.position(0)}return t?function(){if(G.match(/\n/)){var t=G.substring(0,N.position());N.position(t.lastIndexOf("\n")+1)}else u()}:u}function eB(t){function u(){N.position(text(G).length)}return t?function(){if(G.match(/\n/)){for(var t=G.split("\n"),l=N.position(),f=0,p=0;p<t.length;++p)if((f+=t[p].length)>l){N.position(f+p);return}}u()}:u}function eT(){var t=u.$node,l=t.is(":focus");E?N.oneTime(10,function(){!t.is(":focus")&&E&&t.trigger("focus",[!0])}):l&&!E&&t.trigger("blur",[!0])}function eS(){if(animation_supported){var t=window.getComputedStyle(ee[0]).getPropertyValue("--animation");t=t.replace(/^\s*|\s*$/g,"");var u=N.attr("class");if(u.match(/-animation/)&&(u=u.replace(/[a-z]+-animation/g,"")),t&&!t.match(/blink/)){var l=t.replace(/terminal-/,"")+"-animation";u.match(l)||(u+=" "+l)}(u=u.replace(/\s+/g," "))!==N.attr("class").replace(/\s+/g," ")&&N.attr("class",u)}}function eR(t){N.isenabled()&&N.oneTime(10,function(){is_mobile||u.val()===G||t||u.val(" "+G),E&&N.oneTime(10,function(){try{var t=is_mobile?Z:Z+1;u.$node.caret()!==t&&u.$node.caret(t)}catch(t){}})})}if(animation_supported&&!is_android)B=function(t){t?ee.addClass("cmd-blink"):ee.removeClass("cmd-blink")},T=function(){var t=ee.clone();t.insertBefore(ee),ee.remove(),ee=t};else{var eO=!1;B=function(t){t&&!eO?(eO=!0,ee.addClass("cmd-inverted cmd-blink"),N.everyTime(500,"blink",ej)):eO&&!t&&(eO=!1,N.stopTime("blink",ej),ee.removeClass("cmd-inverted cmd-blink"))},T=function(){B(!1),B(!0)}}function ej(){ee.toggleClass("cmd-inverted")}function eL(){F="(reverse-i-search)`"+Y+"': ",eQ()}function eI(){F=y,J=!1,V=null,Y=""}function ez(t){var u,l,f=A.data(),p=f.length;if(t&&V>0&&(p-=V),Y.length>0)for(var D=Y.length;D>0;D--){l=$.terminal.escape_regex(Y.slice(0,D)),u=z.caseSensitiveSearch?new RegExp(l):RegExp(l,"i");for(var h=p;h--;)if(u.test(f[h])){V=f.length-h,N.position(f[h].indexOf(l)),N.set(f[h],!0),eG(),Y.length!==D&&(Y=Y.slice(0,D),eL());return}}Y=""}function eP(){var t=N.find(".cmd-prompt"),u=t.html();t.html("<span>&nbsp;</span>");var l=t.find("span").get(0).getBoundingClientRect().width;return t.html(u),l}function e$(t){return Math.floor(N.width()/t)}function eN(t){function u(t){return $.terminal.split_equal(t,l)}function f(t){var u=[];return t.forEach(function(l,f){$.terminal.strip(l).match(ei)?(u[f]=!1,f>0&&(u[f-1]+=en)):u[f]=t[f]}),u.filter(function(t){return!1!==t})}var p,D,h=K.find(".cmd-line");p=h.length?h.nextUntil(".cmd-line").text():K.text(),p=$.terminal.escape_brackets(p);var y=eZ(),C=RegExp("^"+y+$.terminal.escape_regex(p));if(t.match(/\n/)){for(var F=t.split("\n"),E=l-g-1,w=0;w<F.length-1;++w)F[w]+=en;for(strlen(F[0])>E?((D=u(p+F[0]))[0]=D[0].replace(C,""),D=f(D)):D=[F[0]],w=1;w<F.length;++w)if(strlen(F[w])>l){var A=u(F[w]);w<F.length-1&&(A=f(A)),D=D.concat(A)}else D.push(F[w])}else(D=u(y+p+t,l))[0]=D[0].replace(C,"");return D.length>1&&$.terminal.length(D[D.length-1])===l&&D.push(""),D}var eM=new WorkerCache({validation:function(t){var u=!1;return this._previous_value&&this._previous_value!==t||this._cols&&this._cols!==l||(u=!0),this._previous_value=t,this._cols=l,u},action:eN});function eH(t){return eM.get(t)}function eW(t,u){try{t=$.terminal.escape_formatting(t);var l=$.extend({},z,{unixFormattingEscapeBrackets:!0,position:Z,command:!0}),f=$.terminal.apply_formatters(t,l),p=$.terminal.normalize(f[0]),D=$.terminal.length(p);return!u&&(Q=f[1])>D&&(Q=D),p}catch(u){return alert_exception("[Formatting]",u.stack),t}}function eU(t,u){var l=$.terminal.encode(eq(t),{tabs:z.tabs,before:u});return $.terminal.format(l,{charWidth:z.charWidth,allowedAttributes:z.allowedAttributes||[]})}function eq(t){return $.terminal.partition(t).join("")}function eK(t,u){return $.terminal.length(t,u)}function eJ(t){return strlen(text(t))>l-g-1||t.match(/\n/)}function eY(t,u,l){return $.terminal.substring(t,u,l)}function eV(t){return!!$.terminal.is_formatting(t)&&t.replace(format_parts_re,"$4").match(/^emoji /)}var eG=function(){var t=ee.prev(),l=ee.next(),p=ee.parent();function h(u,D){var h,g=u.match(er);g&&(u=u.replace(er," ")),p.toggleClass("cmd-end-line",!!g);var C=!1,F=$.extend({prompt:"",last:!1},D),E=F.position,w=eK(u),A=F.prompt;if(E===w)t.html(eU(u)),h="&nbsp;",y(),l.html("");else if(0===E)t.html(""),h=eY(u,0,1),ee.html(eU(h)),l.html(eU(eY(u,1),A+h));else{var B=$.terminal.substring(u,0,E);t.html(eU(B,A)),h=eY(u,E,E+1);var S=(A+B).replace(/^.*\t/,"");ee.html(eU(h,S)),E===w-1?(C=!0,l.html("")):(h.match(/\t/)?S="":S+=h,l.html(eU(eY(u,E+1),S)))}if(ch_unit_bug){if(void 0!==wcwidth){var R=strlen(text(h));1===R&&eV(h)&&(R=2),ee.width(f*R)}else ee.width(f)}ee.toggleClass("cmd-end-line",C),eS();var O=$.terminal.length(ee.text());O>1&&ee.find("[data-text]")[0].style.setProperty("--length",O),T()}function g(t,u){var l=t.match(er),f='<div role="presentation" aria-hidden="true"';return l&&(t=t.replace(er," "),f+=' class="cmd-end-line"'),f+=">"+eU(t,u||"")+"</div>"}function y(){ee.html('<span data-text class="end"><span>&nbsp;<span></span>')}function C(t){var u=p;$.each(t,function(t,l){u=$(g(l)).insertAfter(u)})}function F(t){$.each(t,function(t,u){p.before(g(u,0===t?D:""))})}return function(){switch(typeof z.mask){case"boolean":L=z.mask?G.replace(/./g,"*"):G;break;case"string":L=G.replace(/./g,z.mask)}var f=eW(L);if(I=eK(f)===text(L).length?Z:Q,W.css({display:"none"}),W.find("div:not(.cmd-cursor-line)").remove(),t.html(""),eJ(f)){var E=f.match(/\t/g),w=f;E&&(f=f.replace(/\t/g,"\x00\x00\x00\x00"));var A=eH(f);E&&(A=$.map(A,function(t){return t.replace(/\x00\x00\x00\x00/g,"	")}));var B=eK(A[0]);if(0===B&&1===A.length);else if(I<B)h(A[0],{length:A.length,position:I,prompt:D}),C(A.slice(1));else if(I===B)p.before(g(A[0],D)),h(A[1]||"",{length:A.length,position:0,last:A.length<=2}),A.length>2&&C(A.slice(2));else{var T=A.slice(-1)[0],S=eK(w)-I,R=eK(T),O=0;if(-1===S&&(S=0),S<=R)F(A.slice(0,-1)),O=R===S?0:R-S,h(T,{length:A.length,position:O,last:!0});else{for(P=0,O=I;P<A.length;++P){var L,I,P,M,H,U=$.terminal.length(A[P]);if(O>U)O-=U;else break}if(H=A[P],M=P,O===eK(H)&&(O=0,undefined===(H=A[++M])))throw Error($.terminal.defaults.strings.redrawError);h(H,{length:A.length,position:O}),F(A.slice(0,M)),C(A.slice(M+1))}}N.find(".cmd-cursor-line ~ div:last-of-type").append("<span></span>")}else""===f?(t.html(""),y(),l.html("")):h(f,{length:1,position:I});var q=p.prevUntil(".cmd-prompt").length;is_css_variables_supported?N[0].style.setProperty("--cursor-line",q):u.$node.css("top",14*q+"px"),W.css({display:""})}}(),eX=function(){function t(t,u){var l=$.extend({},z,{position:u,command:!0});return $.terminal.apply_formatters(t,l)[1]}function u(u,l,f){var p=t(f,l);return p===u?t(f,l+1)>u?0:1:p<u?1:-1}return function(t,l){if(0===l)return 0;var f=(t=bare_text(t)).length,p=$.terminal.escape_brackets(G),D=binary_search(0,f,l,u,[p]),h=$.terminal.split_characters(t);if(f>h.length){for(var g=0,y=0;y<h.length;++y)if((g+=h[y].length)>=D)return g}return D}}();function eZ(){return q?Array(q+1).join("￿"):""}var eQ=function(){function t(t){if(!t)return g=(h=0)+q,t;var u=eZ()+t,f=$.terminal.split_equal(u,l);f=(f=f.map(function(t){return t.replace(/^\uFFFF+/,"")}).filter(Boolean)).map(function(t){return $.terminal.have_formatting(t)?$.terminal.format_split(t).map(function(t){return $.terminal.is_formatting(t)?t:"[[;;]"+$.terminal.escape_brackets(t)+"]"}).join(""):"[[;;]"+$.terminal.escape_brackets(t)+"]"});var p={charWidth:z.charWidth};D=f[f.length-1];var y=$.terminal.encode(f[f.length-1],{tabs:z.tabs}),C=$.terminal.format(y,p);return g=(h=strlen(text(y)))+q,f.slice(0,-1).map(function(t){return t=$.terminal.encode(t,{tabs:z.tabs}),'<span class="cmd-line">'+$.terminal.format(t,p)+"</span>"}).concat([C]).join("\n")}function f(l){l&&(l=$.terminal.apply_formatters(l,{prompt:!0}),l=$.terminal.normalize(l),l=crlf(l));var f=t(l);if(p=l,f=f||$.terminal.format("[[;;]​]"),K.html()!==f){K.html(f);var D=K.find("> span span");u.$node.attr("data-cmd-prompt",K.text()),is_ch_unit_supported&&(K.hide(),D.each(function(){var t=$(this),u=strlen(t.text());0===u?t.css("width",1):t.css("width",u+"ch")}),K.show())}}return function(){O&&O.set&&(O.set=$.noop,O=null);var t=O={set:f};with_prompt(F,function(u){t.set(u)},N)}}();function e0(){is_function(z.onCommandChange)&&z.onCommandChange.call(N,G)}function e3(t,u,f){var p=t.substring(0,u);if(0===u||!t.length)return 0;var D=/\n?([^\n]*)$/,h=p.match(D)[1].length;return(!eC(p)&&(f||e_(p,g))&&(h+=g),0===h)?h:0==(h%=l)?l:h}$.extend(N,{option:function(t,u){return void 0===u?z[t]:(z[t]=u,N)},name:function(t){if(undefined===t)return w;w=t;var u=A&&A.enabled()||!A;return A=new History(w,z.historySize,"memory"===z.history),u||A.disable(),N},purge:function(){return A.clear(),N},history:function(){return A},delete:function(t,u){var l,f;return 0===t?"":(t<0?Z>0&&(l=G.slice(0,Z).slice(t),f=(f=bare_text(G)).slice(0,Z+t)+f.slice(Z,f.length),u||N.position(Z+t)):""!==G&&(f=text(G),Z<f.length&&(l=f.slice(Z).slice(0,t),f=f.slice(0,Z)+f.slice(Z+t,f.length))),l&&(G=f),eG(),eR(),e0(),l)},set:function(t,u,l){return undefined===t||(G=t,u||N.position(bare_text(G).length),eG(),eR(),l||e0()),N},keymap:function(t,u){function l(t,u){var l=ep[t];return is_function(l)&&(l=l.bind(N)),function(t){return u.call(N,t,l)}}if(null===t)return R=ep,N;if(void 0===t)return R;if("string"!=typeof t)return R=$.extend({},R||ep,$.omap(t||{},l)),N;if(void 0===u){if(R[t])return R[t];if(ep[t])return ep[t]}else R[t]=l(t,u)},insert:function(t,u){var l=bare_text(G),f=bare_text(t).length;return Z===l.length?t=l+t:0===Z?t+=l:t=l.slice(0,Z)+t+l.slice(Z),G=t,u||N.position(f,!0,!0),eR(),eG(),e0(),N},get:function(){return G},commands:function(t){return t?(z.commands=t,N):t},destroy:function(){return tD.unbind("keypress.cmd",tm),tD.unbind("keydown.cmd",tf),tD.unbind("input.cmd",tv),N.stopTime("blink",ej),N.find(".cmd-wrapper").remove(),N.find(".cmd-prompt, .cmd-clipboard, .cmd-editable").remove(),N.removeClass("cmd").removeData("cmd").off(".cmd"),N},display_column:function(t){var u=eW(G);return u=$.terminal.strip(u),e3(u,Q,t)},column:function(t){return e3(G,Z,t)},line:function(){var t=G.substring(0,Z);return 0!==Z&&G.length?t.split(/\n/).length-1:0},__set_prompt_margin:function(t){g=h+(q=t)},prompt:function(t){if(!0===t)return p;if(undefined===t)return F;var u=t!==F;if("string"==typeof t||"function"==typeof t)F=t;else throw Error("prompt must be a function or string");return u&&(eQ(),eG()),N},kill_text:function(){return X},position:function(t,u,l){if("number"!=typeof t)return Z;var f=Z,p=bare_text(G).length;return u?Z+=t:Z=t<0?0:t>p?p:t,f!==Z&&(eG(),!l&&is_function(z.onPositionChange)&&z.onPositionChange(Z,Q),eR(!0)),N},refresh:function(){return eQ(),eG(),eR(!0),N},display_position:function(t,u){if(undefined===t)return Q;var l,f=eW($.terminal.escape_formatting(G),!0),p=eK(f),D=bare_text(G).length;if(l=u?Q+t:t>p?p:t,p===D)return Q=l,N.position(l);if(p===l)return Q=l,N.position(D);var h=eX(G,l);return -1!==h&&(Q=l,N.position(h)),N},visible:function(){var t=N.visible;return function(){return t.apply(N,[]),eG(),eQ(),N}}(),show:function(){var t=N.show;return function(){return t.apply(N,[]),eG(),eQ(),N}}(),resize:function(t){var u;return f=eP(),(l!==(u="number"==typeof t?t:e$(f))||!0===arguments[0])&&(l=u,eG(),eQ()),N},clear_cache:"Map"in root?function(){eM.clear()}:function(){return N},invoke_key:function(t){E||warn('invoke_key("'+t+'") called on disabled terminal');var u=t.toUpperCase().split("+"),l=u.pop(),f=-1!==u.indexOf("CTRL"),p=-1!==u.indexOf("SHIFT"),D=-1!==u.indexOf("ALT"),h=-1!==u.indexOf("META"),g=$.Event("keydown",{ctrlKey:f,shiftKey:p,altKey:D,metaKey:h,which:ef[l],key:l}),y=$(document.documentElement||window);return y.trigger(g),(g=$.Event("keypress")).key=l,g.which=g.keyCode=0,y.trigger(g),N},clip:function(){return u},enable:function(t){if(!E){E=!0,N.addClass("enabled");try{u.$node.is(":focus")||u.$node.focus(),u.$node.caret(Z)}catch(t){}B(!0),!t&&is_function(F)&&eQ(),eS(),eR()}return eT(),N},isenabled:function(){return E},disable:function(t){return E=!1,N.removeClass("enabled"),B(!1),t||eT(),N},mask:function(t){return void 0===t?z.mask:(z.mask=t,eG(),N)}}),N.name(z.name||z.prompt||""),!1!==z.prompt&&(F=z.prompt,eQ()),!0===z.enabled&&N.enable(),l=e$(f=eP()),z.history||A.disable();var e8=!0,e6=!1,e7=!1,e9=!1,e4=!1,e5=!1,te=!0,tt=!1,tn=!1,tr=!1,ti=!1,to="";function tu(t){return"BACKSPACE"===t.key.toUpperCase()||8===t.which}function ta(t){return t.key&&1===t.key.length&&!t.ctrlKey}function ts(t){return -1!==["HOLD+SHIFT+BACKSPACE","HOLD+BACKSPACE"].indexOf(t)&&z.mobileDelete||-1!==z.repeatTimeoutKeys.indexOf(t)}function tl(t){return 35===t.which||36===t.which||37===t.which||38===t.which||39===t.which||40===t.which||13===t.which||27===t.which}var tc=!1;function tf(t){t.key,t.fake,t.which,tn="process"===(t.key||"").toLowerCase()||0===t.which,e7=e4&&e9&&!tu(t);try{t.fake||(e9=ta(t),e5="unidentified"===String(t.key).toLowerCase(),tt=tu(t))}catch(t){}if("Unidentified"===t.key){te=!0;return}t.fake||-1!==["meta","os"].indexOf(t.key.toLowerCase())||(te=!1),e4=!0,u.$node.off("input",eg);var l,f=es(t);if(is_function(z.keydown)&&(t.key=ea(t),undefined!==(l=z.keydown.call(N,t))))return l||(L=!0),l;if(f!==I&&tp(),E||"CTRL+C"===f&&is_terminal_selected(N)){if(tr){if(I=f,f="HOLD+"+f,ti)return;z.holdRepeatTimeout>0&&ts(f)&&(ti=!0,N.oneTime(z.holdRepeatTimeout,"delay",function(){ti=!1}))}else N.oneTime(z.holdTimeout,"hold",function(){tr=!0}),I=f;if(!t.fake&&is_android){if(tc)return tp(),tc=!1,!1;P(f)?tc=!0:P(I)&&(tc=!1)}if(T(),L=-1!==["CTRL+V","META+V"].indexOf(f),"enter"===f.toLowerCase()&&(e8=!0),J&&tl(t))eI(),eQ(),27===t.which&&N.set(""),eG(),13===t.which&&tf.call(this,t);else if(is_function(R[f])){if(!0===(l=R[f](t)))return;if(undefined!==l)return l}else{if(t.altKey)return;e6=!1;return}}}function tp(){N.stopTime("hold"),N.stopTime("delay"),ti=tr=!1}var tD=$(document.documentElement||window);function tm(t){if(t.key,t.fake,tp(),t.fake||(e4=!1),(!t.ctrlKey&&!t.metaKey||t.altKey)&&!e6){if(is_function(z.keypress)&&undefined!==(u=z.keypress.call(N,t)))return u||(L=!0),u;if(E){if(t.fake)return;if(is_key_native){var u,l,f=(l=t.key).toUpperCase();eu[f]&&(l=eu[f])}if((!l||e5)&&(l=String.fromCharCode(t.which)),$.inArray(t.which,[13,0,8])>-1){if(123===t.keyCode)return;return!1}l&&(!t.ctrlKey||t.ctrlKey&&t.ctrlKey)&&(!(t.altKey&&100===t.which)||t.altKey)&&!e7&&(J?(Y+=l,ez(),eL()):1===l.length&&N.insert(l))}}}function td(t,u,l){var f=$.Event(t);f.which=l,f.key=u,f.fake=!0,tD.trigger(f)}N.keymap(z.keymap||{});var th=!1;function tg(){to=G,L=!1,te=!0}function tv(){var t=u.val();if(is_mobile||(t=t.replace(/^ /,"")),te||tn||(e4||e7)&&!L&&(e9||e5)&&!tt){if(t&&t===G){is_android&&te&&td("keydown","Enter",13),tg();return}var l=Z;if(te){var f=to;tt=f.slice(0,f.length-1).length===t.length}if(th){th=!1,u.val(G);return}if(J)Y=t,ez(),eL();else{var p=t.slice(Z);if(1===p.length||tt){var D,h=get_next_character(p);P(h)&&(th=!0),te&&(D=tt?8:p.toUpperCase().charCodeAt(0),td("keydown",tt?"Backspace":p,D)),e4&&!tt&&td("keypress",h,p.charCodeAt(0))}if(tt){to=G;return}if(L){L=!1;return}N.set(t)}tt?N.position(l-1):N.position(l+Math.abs(t.length-to.length))}tg()}return tD.bind("keypress.cmd",tm),tD.bind("keydown.cmd",tf),tD.bind("keyup.cmd",tp),tD.bind("input.cmd",tv),function(){if(is_mobile){$(N[0]).add(u.$node).on("touchstart.cmd",function(){N.isenabled()?u.blur():u.focus()}),N.disable();return}var t=!1,l=0;N.on("mousedown.cmd",function(){t=!0}).on("mouseup.cmd",function(u){function f(){var t=$(u.target);!t.is(".cmd-prompt")&&h&&""===get_selected_html()&&E&&(t.is(".cmd")?N.position(text(G).length):N.display_position(eo(u))),l=0}if(0===(p=undefined===u.originalEvent?u.button:u.originalEvent.button)&&""===get_selected_html()){var p,D="click_"+H;if(1==++l){var h=t;E?0===z.clickTimeout?f():N.oneTime(z.clickTimeout,D,f):l=0}else N.stopTime(D),l=0}t=!1})}(),N.data("cmd",N),"KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype||setTimeout(function(){throw Error("key event property not supported try https://github.com/inexorabletash/polyfill/blob/master/keyboard.js")},0),N};var strlen=function(){return void 0===wcwidth?function(t){return t=t.replace(/\u200B/g,""),$.terminal.length(t)}:wcwidth}();function count_selfclosing_formatting(t){var u=0;if($.terminal.have_formatting(t)){var l=RegExp(format_parts_re.source,"i");$.terminal.format_split(t).forEach(function(t){if($.terminal.is_formatting(t)){var f=t.match(l);f&&f[1].match(/@/)&&""===f[6]&&u++}})}return u}var entities={"&amp;":"&","&lt;":"<","&gt;":">","&Agrave;":"\xc0","&Aacute;":"\xc1","&Acirc;":"\xc2","&Atilde;":"\xc3","&Auml;":"\xc4","&Aring;":"\xc5","&AElig;":"\xc6","&Ccedil;":"\xc7","&Egrave;":"\xc8","&Eacute;":"\xc9","&Ecirc;":"\xca","&Euml;":"\xcb","&Igrave;":"\xcc","&Iacute;":"\xcd","&Icirc;":"\xce","&Iuml;":"\xcf","&ETH;":"\xd0","&Ntilde;":"\xd1","&Ograve;":"\xd2","&Oacute;":"\xd3","&Ocirc;":"\xd4","&Otilde;":"\xd5","&Ouml;":"\xd6","&Oslash;":"\xd8","&Ugrave;":"\xd9","&Uacute;":"\xda","&Ucirc;":"\xdb","&Uuml;":"\xdc","&Yacute;":"\xdd","&THORN;":"\xde","&szlig;":"\xdf","&agrave;":"\xe0","&aacute;":"\xe1","&acirc;":"\xe2","&atilde;":"\xe3","&auml;":"\xe4","&aring;":"\xe5","&aelig;":"\xe6","&ccedil;":"\xe7","&egrave;":"\xe8","&eacute;":"\xe9","&ecirc;":"\xea","&euml;":"\xeb","&igrave;":"\xec","&iacute;":"\xed","&icirc;":"\xee","&iuml;":"\xef","&eth;":"\xf0","&ntilde;":"\xf1","&ograve;":"\xf2","&oacute;":"\xf3","&ocirc;":"\xf4","&otilde;":"\xf5","&ouml;":"\xf6","&oslash;":"\xf8","&ugrave;":"\xf9","&uacute;":"\xfa","&ucirc;":"\xfb","&uuml;":"\xfc","&yacute;":"\xfd","&thorn;":"\xfe","&yuml;":"\xff","&nbsp;":"\xa0","&iexcl;":"\xa1","&cent;":"\xa2","&pound;":"\xa3","&curren;":"\xa4","&yen;":"\xa5","&brvbar;":"\xa6","&sect;":"\xa7","&uml;":"\xa8","&copy;":"\xa9","&ordf;":"\xaa","&laquo;":"\xab","&not;":"\xac","&shy;":"\xad","&reg;":"\xae","&macr;":"\xaf","&deg;":"\xb0","&plusmn;":"\xb1","&sup2;":"\xb2","&sup3;":"\xb3","&acute;":"\xb4","&micro;":"\xb5","&para;":"\xb6","&cedil;":"\xb8","&sup1;":"\xb9","&ordm;":"\xba","&raquo;":"\xbb","&frac14;":"\xbc","&frac12;":"\xbd","&frac34;":"\xbe","&iquest;":"\xbf","&times;":"\xd7","&divide;":"\xf7","&forall;":"∀","&part;":"∂","&exist;":"∃","&empty;":"∅","&nabla;":"∇","&isin;":"∈","&notin;":"∉","&ni;":"∋","&prod;":"∏","&sum;":"∑","&minus;":"−","&lowast;":"∗","&radic;":"√","&prop;":"∝","&infin;":"∞","&ang;":"∠","&and;":"∧","&or;":"∨","&cap;":"∩","&cup;":"∪","&int;":"∫","&there4;":"∴","&sim;":"∼","&cong;":"≅","&asymp;":"≈","&ne;":"≠","&equiv;":"≡","&le;":"≤","&ge;":"≥","&sub;":"⊂","&sup;":"⊃","&nsub;":"⊄","&sube;":"⊆","&supe;":"⊇","&oplus;":"⊕","&otimes;":"⊗","&perp;":"⊥","&sdot;":"⋅","&Alpha;":"Α","&Beta;":"Β","&Gamma;":"Γ","&Delta;":"Δ","&Epsilon;":"Ε","&Zeta;":"Ζ","&Eta;":"Η","&Theta;":"Θ","&Iota;":"Ι","&Kappa;":"Κ","&Lambda;":"Λ","&Mu;":"Μ","&Nu;":"Ν","&Xi;":"Ξ","&Omicron;":"Ο","&Pi;":"Π","&Rho;":"Ρ","&Sigma;":"Σ","&Tau;":"Τ","&Upsilon;":"Υ","&Phi;":"Φ","&Chi;":"Χ","&Psi;":"Ψ","&Omega;":"Ω","&alpha;":"α","&beta;":"β","&gamma;":"γ","&delta;":"δ","&epsilon;":"ε","&zeta;":"ζ","&eta;":"η","&theta;":"θ","&iota;":"ι","&kappa;":"κ","&lambda;":"λ","&mu;":"μ","&nu;":"ν","&xi;":"ξ","&omicron;":"ο","&pi;":"π","&rho;":"ρ","&sigmaf;":"ς","&sigma;":"σ","&tau;":"τ","&upsilon;":"υ","&phi;":"φ","&chi;":"χ","&psi;":"ψ","&omega;":"ω","&thetasym;":"ϑ","&upsih;":"ϒ","&piv;":"ϖ","&OElig;":"Œ","&oelig;":"œ","&Scaron;":"Š","&scaron;":"š","&Yuml;":"Ÿ","&fnof;":"ƒ","&circ;":"ˆ","&tilde;":"˜","&ensp;":" ","&emsp;":" ","&thinsp;":" ","&zwnj;":"‌","&zwj;":"‍","&lrm;":"‎","&rlm;":"‏","&ndash;":"–","&mdash;":"—","&lsquo;":"‘","&rsquo;":"’","&sbquo;":"‚","&ldquo;":"“","&rdquo;":"”","&bdquo;":"„","&dagger;":"†","&Dagger;":"‡","&bull;":"•","&hellip;":"…","&permil;":"‰","&prime;":"′","&Prime;":"″","&lsaquo;":"‹","&rsaquo;":"›","&oline;":"‾","&euro;":"€","&trade;":"™","&larr;":"←","&uarr;":"↑","&rarr;":"→","&darr;":"↓","&harr;":"↔","&crarr;":"↵","&lceil;":"⌈","&rceil;":"⌉","&lfloor;":"⌊","&rfloor;":"⌋","&loz;":"◊","&spades;":"♠","&clubs;":"♣","&hearts;":"♥","&diams;":"♦"};function render_entities(t){return t.replace(/&#(x?)([0-9]+);/g,function(t,u,l){return String.fromCharCode(l=parseInt(l,u?16:10))}).replace(/(&[^;]+;)/g,function(t,u){return entities[u]||u})}function bare_text(t){return t.match(/&/)?render_entities(safe(t)):t}function text(t){return bare_text($.terminal.strip(t))}function safe(t){return t.match(/[<>&]/)?t.replace(/&(?![^;]+;)/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"):t}function crlf(t){return t.replace(/\r/g,"")}function char_len(t){return entity_re.test(t)?1:t.length}function make_re_fn(t){return function(u){var l=u.match(t);if(starts_with(l))return l[1]}}function starts_with(t){return t&&0===t.index}function is_simple_text(t){for(var u=[entity_re,emoji_re,combine_chr_re,astral_symbols_re],l=0;l<u.length;++l)if(u[l].test(t))return!1;return!0}function make_next_char_fun(t){var u=[];return[entity_re,emoji_re,combine_chr_re].forEach(function(l){l.test(t)&&u.push(make_re_fn(l))}),astral_symbols_re.test(t)&&u.push(function(t){var u=t.match(astral_symbols_re);if(starts_with(u)){var l=t.match(combine_chr_re);return l&&1===l.index?t.slice(0,3):u[1]}}),function(t){for(var l=0;l<u.length;++l){var f=(0,u[l])(t);if(f)return f}return t[0]}}function get_next_character(t){var u=t.match(entity_re);if(starts_with(u))return u[1];var l=t.match(combine_chr_re);if(starts_with(l))return l[1];var f=t.match(emoji_re);return starts_with(f)?f[1]:255>t.charCodeAt(0)?t[0]:starts_with(t.match(astral_symbols_re))?(l=t.match(combine_chr_re))&&1===l.index?t.slice(0,3):t.slice(0,2):t[0]}function normalize_position(t,u){if(0===u)return u;t=$.terminal.strip(t);var l=$.terminal.split_characters(t).reduce(function(t,l){if("number"==typeof t)return t;var f=t.length+char_len(l);return f>=u?t.position+1:{position:t.position+1,length:f}},{position:0,length:0});return"number"==typeof l?l:l.position}function style_to_string(t){return Object.keys(t).map(function(u){return u+":"+t[u]}).join(";")}function escape_html_attr(t){return t.replace(/"/g,"&quot;")}function char_width_object(t,u){var l={};return 0===t?l.width="1px":is_ch_unit_supported?l.width=t+"ch":is_css_variables_supported?l["--length"]=t:u.charWidth&&(l.width=u.charWidth*t+"px"),l}function char_width_prop(t,u){return style_to_string(char_width_object(t,u))}function extra_css(t,u){if(void 0!==wcwidth){var l=bare_text(t),f=strlen(l);if(f>1&&f!==$.terminal.length(l))return char_width_object(f,u)}}function wide_characters(t,u){if(void 0!==wcwidth){var l=bare_text(t),f=$.terminal.split_characters(l);return 1===f.length?t:f.map(function(t){return{len:strlen(t),chr:t}}).reduce(function(t,u){var l=t[t.length-1];return l?l.len!==u.len?t.concat([{sum:u.len,len:u.len,specs:[u]}]):(t.pop(),t.concat([{sum:l.sum+u.len,len:l.len,specs:l.specs.concat(u)}])):[{sum:u.len,specs:[u],len:u.len}]},[]).map(function(t){if(1===t.len)return p(t);var l=char_width_prop(t.sum,u);return t.sum!==f.length&&l.length?t.specs.length>1?D(l,t.specs.map(function(t){return D(char_width_prop(t.len),t.chr)}).join("")):D(l,p(t)):"<span>"+p(t)+"</span>"}).join("")}function p(t){return t.specs.map(function(t){return t.chr}).join("")}function D(t,u){return'<span style="'+t+'">'+u+"</span>"}return t}function binary_search(t,u,l,f,p){var D=u-t,h=t+Math.floor(D/2),g=[l,h].concat(p),y=f.apply(null,g);return 0===y?h:y>0&&D>1?binary_search(h,u,l,f,p):y<0&&D>1?binary_search(t,h,l,f,p):-1}function is_terminal_selected(t){if(is_function(window.getSelection)){var u=window.getSelection();if(u.toString()){var l=$(u.getRangeAt(0).startContainer.parentNode).closest(".terminal");return l.length&&(t&&l.find(".cmd").is(t)||!t)}}}function get_selected_html(){var t="";if(is_function(window.getSelection)){var u=window.getSelection();if(u.rangeCount){for(var l=document.createElement("div"),f=0,p=u.rangeCount;f<p;++f)l.appendChild(u.getRangeAt(f).cloneContents());t=l.innerHTML}}return t}function with_selection(t){var u="",l=[];if(is_function(window.getSelection)){var f=window.getSelection();if(f.rangeCount){for(var p=document.createElement("div"),D=0,h=f.rangeCount;D<h;++D){var g=f.getRangeAt(D).cloneRange();l.push(g),p.appendChild(g.cloneContents())}u=p.innerHTML}}return t(u),l.length&&(f.removeAllRanges(),l.forEach(function(t){f.addRange(t)})),""!==u}function process_selected_line(){var t=$(this),u=t.text();return t.hasClass("cmd-end-line")&&(u+="\n"),u}function process_div(t){return $(t).find("> div, > span").map(process_selected_line).get().join("\n").replace(/\n$/,"")}function process_selected_html(t){var u,l="",f=$("<div>"+t+"</div>");t.match(/<\/div>/)&&(!(u=f.find("div[data-index]").map(function(){return process_div(this)}).get().join("\n"))&&t.match(/style="width: 100%;?"/)&&(u=process_div(f)),l=u);var p=f.find(".cmd-prompt");p.length&&(l.length&&(l+="\n"),l+=p.text());var D=f.find('[role="presentation"]');return D.length&&(l+=D.map(process_selected_line).get().join("")),!l.length&&t&&(l=f.text()),l.replace(/\xA0/g," ")}var support_copy=function(){return!!("undefined"!=typeof document&&is_function(document.queryCommandSupported))&&document.queryCommandSupported("copy")}();text_to_clipboard=support_copy?function(t,u){var l=t.val(),f=t.is(":focus"),p=t.caret();if(window.navigator&&window.navigator.clipboard)navigator.clipboard.writeText(u);else if(f)t.val(u).focus(),t[0].select(),document.execCommand("copy"),t.val(l),t.caret(p);else{var D=$("<textarea/>").css({position:"fixed",top:0,left:0}).appendTo("body");D.val(u).focus(),D[0].select(),document.execCommand("copy"),D.blur(),D.remove()}return!0}:$.noop;var get_textarea_selection=function(){function t(){return""}if("undefined"==typeof document)return t;var u=document.createElement("textarea"),l="selectionStart"in u;return(u=null,l)?function(t){var u=t.selectionEnd-t.selectionStart;return t.value.substr(t.selectionStart,u)}:document.selection?function(){return document.selection.createRange().text()}:t}();function clear_textarea_selection(t){t.selectionStart=t.selectionEnd=0}function common_string(t,u,l){if(!u.length)return"";for(var f=string_case(t),p=[],D=t.length;D<u[0].length;++D){for(var h=!1,g=u[0].charAt(D),y=g.toLowerCase(),C=1;C<u.length;++C){h=!0;var F=u[C].charAt(D),E=F.toLowerCase();if(g!==F){if(l||"mixed"===f){h=!1;break}if(y===E){if("lower"===f)g=g.toLowerCase();else if("upper"===f)g=g.toUpperCase();else{h=!1;break}}else{h=!1;break}}}if(h)p.push(g);else break}return t+p.join("")}function trigger_terminal_change(t){terminals.forEach(function(u){u.settings().onTerminalChange.call(u,t)})}var select=function(){return root.getSelection?root.getSelection().setBaseAndExtent?function(t,u){root.getSelection().setBaseAndExtent(t,0,u,1)}:function(t,u){var l=root.getSelection(),f=document.createRange();f.setStart(t,0),f.setEnd(u,u.childNodes.length),l.removeAllRanges(),l.addRange(f)}:$.noop}();function process_command(t,u){var l=t.trim(),f=l.match(command_re)||[];if(!f.length)return{command:t,name:"",args:[],args_quotes:[],rest:""};var p=f.shift(),D=$.map(f,function(t){return t.match(/^["']/)?(t=t.replace(/\n/g,"\\u0000\\u0000\\u0000\\u0000"),(t=u(t)).replace(/\x00\x00\x00\x00/g,"\n")):u(t)}),h=$.map(f,function(t){var u=t.match(/^(['"`]).*\1$/);return u&&u[1]||""}),g=l.slice(p.length).trim();return{command:t,name:p,args:D,args_quotes:h,rest:g}}$.terminal={version:"2.36.0",date:"Fri, 19 May 2023 12:02:17 +0000",color_names:["transparent","currentcolor","black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","rebeccapurple"],Cycle:Cycle,History:History,Stack:Stack,valid_color:function(t){return!!t.match(color_re)||-1!==$.inArray(t.toLowerCase(),$.terminal.color_names)},unclosed_strings:function(t){return!!t.match(unclosed_strings_re)},escape_regex:function(t){if("string"==typeof t){var u=/([-\\^$[\]()+{}?*.|])/g;return t.replace(u,"\\$1")}},have_formatting:function(t){return"string"==typeof t&&!!t.match(format_exist_re)},is_formatting:function(t){return"string"==typeof t&&!!t.match(format_full_re)},is_extended_command:function(t){return"string"==typeof t&&t.match(format_exec_re)&&!$.terminal.is_formatting(t)},each_extended_command:function(t,u){var l=t.split(format_exec_split_re);return $.map(l,function(t){return $.terminal.is_extended_command(t)?u(t.replace(/^\[\[|\]\]$/g,""))||"":t}).join("")},format_split:function(t){return t.split(format_split_re).filter(Boolean)},tracking_replace:function(t,u,l,f){if(!(u instanceof RegExp))throw Error("tracking_replace: Second argument need to be RegExp");function p(t,u,l){return t.slice(u,l)}function D(t){return $.terminal.strip(t).length}var h,g,y,C="",F=0,E=f;for(u.lastIndex=0;h=u.exec(t);){if(u.global){var w=D(p(t,0,u.lastIndex));y=w-D(h[0])}else w=(y=h.index)+D(h[0]);if(F<y&&(C+=p(t,F,y)),F=w,C+=g="function"==typeof l?l.apply(null,h):l.replace(/\$(\$|\d)/g,function(t,u){return"$"===u?"$":h[u]}),y<f){var A=D(g);A+=count_selfclosing_formatting(g),w<f?E=Math.max(0,E+A-D(h[0])):E+=A-(f-y)}if(!u.global)break}return(F<D(t)&&(C+=p(t,F)),t===C)?[t,f]:[C,E]},iterate_formatting:function(t,u){function l(t){return" "===t||"	"===t||"\n"===t}function f(u){return R&&"&nbsp;"===t.slice(u-6,u)||l(t[u-1])}function p(u){return R?t.slice(u).match(entity_re):null}function D(u){return"["===t[u]&&"["===t[u+1]}function h(u){return"\\"!==t[u-1]&&"\\"===t[u]&&"]"===t[u+1]}function g(u){return"]"===t[u]||"["===t[u]}function y(u){return K&&!J&&("]"!==t[u]&&!q||!S)||L&&!O}var C,F,E=make_next_char_fun(t);function w(){var t=E(U);return t.length>1&&$.terminal.length(U)>1?t.length-1:0}function A(){return f(W)&&(K||J)&&(-1===z&&F!==W||-1!==z)}var B=!1;function T(){return B=W===t.length-1&&!B||O&&!!U.match(/^.]$/)}for(var S=$.terminal.have_formatting(t),R=entity_re.test(t),O="",L=!1,I=0,z=-1,P=-1,N=0,M=0,H=/(&[^;]+);$/,W=0;W<t.length;W++){var U=t.slice(W),q=!1;(C=U.match(format_start_re))?(O=C[1],L=!1):O?"]"===t[W]&&(q=L,L?(O="",L=!1):L=!0):L=!0;var K=O&&L||!O,J=D(W);A()&&(z=W,P=I);var Y=g(W);if(M=0,K){if("&"===t[W]){if(C=p(W)){W+=C[1].length-2;continue}++I,++N}else h(W)?(++I,++N,M=1,W+=1):(!Y||!S||L&&!O)&&(++I,++N)}if(y(W)){2===strlen(t[W])&&N++;var V=E(U),G=V.length;";"===V&&(C=t.slice(0,W+1).match(H))&&(G=(M=C[1].length)+1);var X=u({last:T(),count:I,index:W-M,formatting:O,length:N,text:L,size:G,space:z,space_count:P});if(!1===X)break;if(X&&(undefined!==X.count&&(I=X.count),undefined!==X.length&&(N=X.length),undefined!==X.space&&(F=z,z=X.space),undefined!==X.index)){W=X.index;continue}}else W!==t.length-1||B||u({last:!0,count:I+1,index:W,formatting:O,length:0,text:L,space:z});L&&(W+=w())}},partition:function(t,u){var l=$.extend({wrap:!0},u);if(!$.terminal.have_formatting(t))return $.terminal.split_characters(t).map(p);var f=[];function p(t){return t.match(/\\$/)&&(t+="\\"),"[[;;]"+t+"]"}function D(t){return $.terminal.is_formatting(t)?t.match(/\\]$/)&&(t=t.replace(/\\]/g,"\\\\]")):l.wrap&&(t=p(t)),t}return $.terminal.iterate_formatting(t,function(u){if(u.text){var l=[];u.formatting&&l.push(u.formatting),l.push(t.substring(u.index,u.index+u.size)),u.formatting&&l.push("]"),f.push(D(l.join("")))}}),f},substring:function(t,u,l){var f,p,D=$.terminal.split_characters(t);if(!D.slice(u,l).length)return"";if(!$.terminal.have_formatting(t))return D.slice(u,l).join("");var h=0,g="",y="",C=1;return($.terminal.iterate_formatting(t,function(t){u&&t.count===u+1&&(h=t.index,t.formatting&&(g=t.formatting)),l&&t.count===l&&(y=t.formatting,p=t.index,C=t.size),t.count===l+1&&(f=t.index,t.formatting&&(f=p+C))}),u&&!h)?"":(undefined===f&&(f=t.length),t=g+t.slice(h,f),y&&(t=t.replace(/(\[\[^\]]+)?\]$/,"")+"]"),t)},normalize:function(t){return t=t.replace(format_re,function(t,u,l){if(u.match(self_closing_re)&&""===l)return"[["+u+"] ]";if(""===l)return"";function f(t){return t.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ")}var p=(u=f(u)).match(/;/g).length;if(p>=4){var D=u.split(/;/);return"[["+D.slice(0,4).join(";")+";"+(D.slice(4).join(";")||l)+"]"+l+"]"}return 2===p?p=";;":3===p&&(p=";"),"[["+(u+=p+f(l))+"]"+l+"]"}),$.terminal.amp(t)},split_equal:function(t,u,l){"boolean"==typeof l&&(l={keepWords:l});for(var f=$.extend({trim:!1,keepWords:!1},l),p="",D=[],h=$.terminal.normalize(t).split(/\n/g),g=$.terminal.have_formatting(t),y=0,C=h.length;y<C;++y){if(""===h[y]){D.push("");continue}var F,E=h[y],w=make_next_char_fun(E),A=0,B=E.length,T=/\[\[[^\]]+\](?:[^\][]|\\\])+\]$/.test(E),S=/^(&nbsp;|\s)/.test(E);if(!g&&B<u){D.push(E);continue}$.terminal.iterate_formatting(E,function(t){var l;if(t.length>=u||t.last||t.length===u-1&&2===strlen(E[t.index+1])){var h,g=!1;if(f.keepWords&&-1!==t.space){var y=text(E).substring(t.space_count),C=strlen(y=y.slice(0,u).replace(/\s+$/,""));(space_re.test(y)||C<u)&&(g=!0)}var R=t.index+t.size;if(T&&(R+=1),f.keepWords&&-1!==t.space&&R!==B&&g?(F=E.slice(A,t.space),h=t.space-1):(l=w(E.slice(t.index)),F=E.slice(A,t.index)+l,t.last&&T&&"]"!==l&&(F+="]"),h=t.index+l.length-1),(f.trim||f.keepWords)&&(F=F.replace(/(&nbsp;|\s)+$/g,""),S||(F=F.replace(/^(&nbsp;|\s)+/g,""))),A=(h||t.index)+1,p){var O=/^[^\]]*\]/.test(F);F=p+F,O&&(p="")}var L=F.match(format_re);if(L){var I=L[L.length-1];"]"!==I[I.length-1]?(p=I.match(format_begin_re)[1],F+="]"):format_end_re.test(F)&&(F=F.replace(format_end_re,""),p=I.match(format_begin_re)[1])}return D.push(F),{index:h,length:0,space:-1}}})}return D},amp:function(t){return t.replace(/&(?!#[0-9]+;|#x[0-9a-f]+;|[a-z]+;)/gi,"&amp;")},encode:function(t,u){var l=$.extend({tabs:4,before:""},u);return $.terminal.amp(t).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").split("\n").map(function(t){var u=t.split(/((?:\[\[[^\]]+\])?\t(?:\])?)/);return(u=u.filter(Boolean)).map(function(t,f){return t.match(/\t/)?t.replace(/\t([^\t]*)$/,function(t,p){if(0!==f&&u[f-1].match(/\t\]?$/))return Array(l.tabs+1).join("&nbsp;")+p;var D=u.slice(f-1,f).join("");l.before&&f<=1&&(D=l.before+D);var h=$.terminal.length(D),g=l.tabs-h%l.tabs;return 0===g&&(g=4),Array(g+1).join("&nbsp;")+p}):t}).join("")}).join("\n")},nested_formatting:function(t){if(!$.terminal.have_formatting(t))return t;var u=[],l=/((?:\[\[(?:[^\][]|\\\])+\])?(?:[^\][]|\\\])*\]?)/,f=/\[\[([^\][]+)\][\s\S]*/,p=/^\[\[([^;]*);([^;]*);([^\]]*)\]/,D=3,h=5;function g(t,u,l){return l.indexOf(t)===u}function y(t,u){return(t=C(t),u)?$.extend(u,t):t}function C(t){var u={};return t.split(/\s*;\s*/).forEach(function(t){var l=t.split(":").map(function(t){return t.trim()}),f=l[0],p=l[1];u[f]=p}),u}function F(t){var u=t.slice();return t[h]&&(u[h]=w(t[h])),t[D]&&(u[D]=A(t[D])),u[0]=E(t[0]),u.join(";")}function E(t){var u=t.filter(function(t){return"-"===t[0]}).map(function(t){return t[1]});return t.filter(function(t){return -1===u.indexOf(t)&&-1===u.indexOf(t[1])}).join("")}function w(t){return JSON.stringify(t,function(t,u){return"style"===t?B(u):u})}function A(t){return t.filter(g).join(" ")}function B(t){return Object.keys(t).map(function(u){return u+":"+t[u]}).join(";")}function T(t){function u(t){l[h]||(l[h]={});try{var u=JSON.parse(t);if(u.style){var f=u.style,p=l[h].style;u.style=y(f,p),l[h]=$.extend(u,l[h],{style:y(f,p)})}else l[h]=$.extend(u,l[h])}catch(u){warn("Invalid JSON "+t)}}var l=[[],"",""];if(!t.length)return l;for(var f=t.length;f--;){var p=$.terminal.parse_formatting(t[f]);if(p.length>5){var g=p.slice(5).join(";");p=p.slice(0,5).concat(g)}p[0].split(/(-?[@!gbiuso])/g).filter(Boolean).forEach(function(t){-1===l[0].indexOf(t)&&l[0].push(t)});for(var C=1;C<p.length;++C){var E=p[C].trim();if(E){if(C===D){l[D]||(l[D]=[]);var w=E.split(/\s+/);l[D]=l[D].concat(w)}else C===h?u(E):l[C]||(l[C]=E)}}}return F(l)}return t.split(l).filter(Boolean).map(function(t){var l;if(t.match(/^\[\[/)&&!$.terminal.is_extended_command(t)){var D=t.replace(f,"$1"),h=$.terminal.is_formatting(t);t=t.replace(p,""),u.push(D),l=$.terminal.nested_formatting.__inherit__?T(u):D,h?u.pop():t+="]",t="[["+l+"]"+t}else{var g=!1;t.match(/\]/)&&(g=!0),u.length&&(t="[["+(l=$.terminal.nested_formatting.__inherit__?T(u):u[u.length-1])+"]"+t),g?u.pop():u.length&&(t+="]")}return t}).join("")},escape_formatting:function(t){return $.terminal.escape_brackets(t)},apply_formatters:function(t,u){if(""===t)return u&&"number"==typeof u.position?["",u.position]:"";function l(t,u,l,f){t.__no_warn__||$.terminal.length(l)===$.terminal.length(f)||warn("Your formatter["+u+"] change length of the string, you should use [regex, replacement] formatter or function  that return [replacement, position] instead")}function f(t){if(!u||!t)return!0;var l=["echo","command","prompt"];if(!l.some(function(u){return!0===t[u]}))return!0;for(var f=l.length;f--;){var p=l[f];if(!0===t[p]&&!0===u[p])return!0}return!1}var p,D=(u=u||{}).formatters||$.terminal.defaults.formatters,h=0;function g(t,f){var p=$.extend({},u,{position:f[1]}),D=t(f[0],p);return"string"==typeof D?(l(t,h-1,D,f[0]),"string"==typeof D)?[D,p.position]:f:is_array(D)&&2===D.length?D:f}p="number"==typeof u.position?[t,u.position]:[t,0];try{var y=D.reduce(function(t,u){if(h++,"function"==typeof u&&u.__meta__)return g(u,t);var l,p=0,D=!1,y=$.terminal.format_split(t[0]).map(function(l){var h,y,C=text(l).length;t[1]<p+C&&!D?(h=t[1]-p,D=!0):h=D?-1:t[1];var F=p;if(p+=C,$.terminal.is_formatting(l))return D?[l,h]:[l,-1];if(is_array(u)){var E=u[2]||{};if((y=[l,h<0?0:h])[0].match(u[0])&&f(u[2])){if(E.loop)for(;y[0].match(u[0]);)y=$.terminal.tracking_replace(y[0],u[0],u[1],y[1]);else y=$.terminal.tracking_replace(y[0],u[0],u[1],y[1])}if(h<0)return[y[0],-1]}else"function"==typeof u&&(y=g(u,[l,h]));return void 0!==y?(-1!==y[1]&&(y[1]+=F),text(y[0]).length,y):[l,-1]}),C=y.filter(function(t){return -1!==t[1]})[0],F=y.map(function(t){return t[0]}).join("");l=void 0===C?t[1]:C[1];var E=text(F).length;if(E+=count_selfclosing_formatting(F),l>E&&(l=E),F===t[0])return t;var w=$.terminal.strip(t[0]),A=$.terminal.strip(F);return w===A?[F,t[1]]:[F,l]},p);if("number"!=typeof u.position)return y[0];var C=$.terminal.strip(y[0]).length;if($.terminal.length(y[0])<C){var F=y[1];F=normalize_position(y[0],F);var E=$.terminal.length(y[0]);F>E&&(F=E),y[1]=F}return y}catch(t){var w="Error in formatter ["+(h-1)+"]";throw D.splice(h-1),new $.terminal.Exception("formatting",w,t.stack)}},escape_brackets:function(t){return t.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;").replace(/\\/g,"&#92;")},unescape_brackets:function(t){return t.replace(/&#91;/g,"[").replace(/&#93;/g,"]").replace(/&#92;/g,"\\")},length:function(t,u){return t?$.terminal.split_characters(u?t:text(t)).length:0},split_characters:function(t){if(is_simple_text(t))return t.split("");for(var u=[],l=make_next_char_fun(t);t.length;){var f=l(t);t=t.slice(f.length),u.push(f)}return u},columns:function(t,u,l){var f=(t=t.map(function(t){return"string"!=typeof t?String(t):t})).map(function(t){return $.terminal.strip(t)}).map(function(t){return strlen(t)});void 0===l&&(l=4);var p=Math.max.apply(null,f)+l,D=Math.floor(u/p)-1;if(D<1)return t.join("\n");for(var h=[],g=0,y=t.length;g<y;g+=D){var C=t.slice(g,g+D),F=C.pop();h.push(C.reduce(function(t,u){var l=$.terminal.strip(u),f=Array(p-l.length+1).join(" ");return t.push(u+f),t},[]).join("")+F)}return h.join("\n")},strip:function(t){return $.terminal.have_formatting(t)?$.terminal.format_split(t).map(function(t){return $.terminal.is_formatting(t)?(t=t.replace(format_parts_re,"$6")).replace(/\\([[\]])/g,function(t,u){return u}):t}).join(""):t},active:function(){return terminals.front()},last_id:function(){return terminals.length()-1},parse_argument:function(t,u){function l(t){return t.split(string_re).map(function(t){if(t.match(/^['"`]/)){if('""'===t||"''"===t||"``"===t)return"";var u=t[0],l=RegExp("(\\\\\\\\(?:\\\\\\\\)*)"+u,"g");t=t.replace(l,"$1").replace(/^[`'"]|[`'"]$/g,""),"'"===u&&(t=t.replace(/"/g,'\\"'))}return JSON.parse(t='"'+t+'"')}).join("")}if(!1===u){if("'"===t[0]&&"'"===t[t.length-1])return t.replace(/^'|'$/g,"");if("`"===t[0]&&"`"===t[t.length-1])return t.replace(/^`|`$/g,"");if('"'===t[0]&&'"'===t[t.length-1])return t.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1");if(t.match(/\/.*\/[gimy]*$/))return t;else if(t.match(/['"`]]/))return l(t);else return t.replace(/\\ /g," ")}if("true"===t)return!0;if("false"===t)return!1;var f=t.match(re_re);return f?new RegExp(f[1],f[2]):t.match(/['"`]/)?l(t):t.match(/^-?[0-9]+$/)?parseInt(t,10):t.match(float_re)?parseFloat(t):t.replace(/\\(['"() ])/g,"$1")},parse_arguments:function(t){return $.map(t.match(command_re)||[],$.terminal.parse_argument)},split_arguments:function(t){return $.map(t.match(command_re)||[],function(t){return $.terminal.parse_argument(t,!1)})},parse_command:function(t){return process_command(t,$.terminal.parse_argument)},split_command:function(t){return process_command(t,function(t){return $.terminal.parse_argument(t,!1)})},parse_options:function t(u,l){var f=$.extend({},{boolean:[]},l);if("string"==typeof u)return t($.terminal.split_arguments(u),l);var p={_:[]};function D(t){this.value=t}var h=u.reduce(function(t,u){var l="string"==typeof u?u:"";if(l.match(/^--?[^-]/)&&t instanceof D&&(p[t.value]=!0),l.match(/^--[^-]/)){var h=l.replace(/^--/,"");if(-1===f.boolean.indexOf(h))return new D(h);p[h]=!0}else if(l.match(/^-[^-]/)){var g=l.replace(/^-/,"").split("");if(-1===f.boolean.indexOf(g.slice(-1)[0]))var y=g.pop();if(g.forEach(function(t){p[t]=!0}),y)return new D(y)}else t instanceof D?p[t.value]=u:u&&p._.push(u);return null},null);return h instanceof D&&(p[h.value]=!0),p},parse_formatting:function(t){var u=$.terminal.unescape_brackets(t).split(";"),l=4;if(u.length>=5){var f=$.terminal.escape_brackets(u[l]);u[l]=f}return u},extended_command:function extended_command(term,string,options){var settings=$.extend({invokeMethods:!1},options),deferred=new $.Deferred;try{change_hash=!1;var m=string.match(extended_command_re);if(!m)return term.exec(string,!0).done(function(){change_hash=!0});if(settings.invokeMethods){string=m[1];var obj="terminal"===m[2]?term:term.cmd(),fn=m[3];try{var args=eval("["+m[4]+"]");if(obj[fn]){var ret=obj[fn].apply(term,args);if(ret&&ret.then)return ret}else term.error("Unknow function "+fn);deferred.resolve()}catch(e){term.error("Invalid invocation in "+$.terminal.escape_brackets(string)),deferred.reject()}}else warn("To invoke terminal or cmd methods you need to enable invokeMethods option"),deferred.reject()}catch(e){deferred.reject()}return deferred.promise()},iterator:function(t){function u(t){return $.terminal.is_formatting(t)&&t.match(/\]\\\]/)&&(t=t.replace(/\]\\\]/g,"]\\\\]")),t}if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){var l=$.terminal.length(t),f=0,p={};return p[Symbol.iterator]=function(){return{next:function(){if(!(f<l))return{done:!0};var p=$.terminal.substring(t,f,f+1);return f++,{value:u(p)}}}},p}},formatter:new function(){try{this[Symbol.split]=function(t){return $.terminal.format_split(t)},this[Symbol.match]=function(t){return t.match(format_re)},this[Symbol.replace]=function(t,u){return t.replace(format_parts_re,u)},this[Symbol.search]=function(t){return t.search(format_re)}}catch(t){}},process_formatting:function(t){return $.terminal.format_split(t).map(function(t){if(!$.terminal.is_formatting(t))return["","","",t];for(var u=t.match(RegExp(format_parts_re,"i")),l=u.pop(),f=1;f<=2;++f)$.terminal.valid_color(u[f])||(u[f]="");return u.slice(1,4).concat(l)})},new_formatter:function(t){for(var u=$.terminal.defaults.formatters,l=0;l<u.length;++l)if(u[l]===$.terminal.nested_formatting){u.splice(l,0,t);return}u.push(t)}},function(){function t(t,u){return""===t?u:t.replace(/&#93;/g,"]").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function u(t){return t.match(/^\.{1,2}\//)||t.match(/^\//)||!(t.match(/\//)||t.match(/^[^:]+:/))}function l(t,u){return function(l){if(u.anyLinks)return!0;var f=t(l);return f||warn("Invalid URL "+l+" only http(s) ftp and path are allowed"),f}}$.terminal.format=function(f,p){var D=$.extend({},{linksNoReferrer:!1,linksNoFollow:!1,allowedAttributes:[],charWidth:undefined,escape:!0,anyLinks:!1},p||{}),h=l(function(t){return t.match(/^((https?|file|ftp):\/\/|\.{0,2}\/)/)||u(t)},D),g=l(function(t){return t.match(/^(https?:|file:|blob:|data:)/)||u(t)},D);function y(t){return t.length&&D.allowedAttributes.length?t.filter(function(t){if("data-text"===t)return!1;for(var u=!1,l=D.allowedAttributes,f=0;f<l.length;++f)if(l[f]instanceof RegExp){if(l[f].test(t)){u=!0;break}}else if(l[f]===t){u=!0;break}return u}):[]}function C(t,u){if(u){var l=y(Object.keys(u));if(l.length){var f=l.map(function(l){if(null===u[l])return"";if(!0===u[l])return l;var f=escape_html_attr(u[l]);return"style"===l&&(f=f?t+";"+f:t),l+'="'+f+'"'}).filter(Boolean);return f.length?f.join(" "):""}}return t?'style="'+t+'"':""}var F=(function(){var t=["noopener"];return D.linksNoReferrer&&t.unshift("noreferrer"),D.linksNoFollow&&t.unshift("nofollow"),t})().join(" ");function E(t,u,l){if(t.match(email_re))return'<a href="mailto:'+t+'"';var f=["<a"];return t&&h(t)&&f.push('href="'+t+'"'),u?(l.includes("target")&&undefined===u.target&&(u.target="_blank"),l.includes("rel")&&undefined===u.rel&&(u.rel=F)):(f.push('rel="'+F+'"'),f.push('target="_blank"')),f.join(" ")}function w(t){var u="<img";return g(t)&&(u+=' src="'+t+'"',text&&(u+=' alt="'+text+'"')),u}function A(u,l,f,p,h,g,F){var A,B,T=[];if(g.match(/;/))try{var S=g.split(";"),R=S.slice(1).join(";").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">");R.match(/^\s*\{[^}]*\}\s*$/)&&(A=JSON.parse(R),T=y(Object.keys(A)),g=S[0])}catch(t){}if(""===F&&!l.match(/@/))return"";F=(F=safe(F)).replace(/\\\]/g,"&#93;"),D.escape&&(F=F.replace(/\\\\/g,"\\"));var O={};-1!==l.indexOf("b")&&(O["font-weight"]="bold");var L=[];-1!==l.indexOf("u")&&L.push("underline"),-1!==l.indexOf("s")&&L.push("line-through"),-1!==l.indexOf("o")&&L.push("overline"),L.length&&(O["text-decoration"]=L.join(" ")),-1!==l.indexOf("i")&&(O["font-style"]="italic"),$.terminal.valid_color(f)&&($.extend(O,{color:f,"--color":f,"--original-color":f}),-1!==l.indexOf("!")&&(O["--link-color"]=f),-1!==l.indexOf("g")&&(O["text-shadow"]="0 0 5px "+f)),$.terminal.valid_color(p)&&$.extend(O,{"background-color":p,"--background":p});var I=t(g,F),z=extra_css(F,D);z&&(F=wide_characters(F,D),$.extend(O,z));var P=style_to_string(O);B=-1!==l.indexOf("!")?E(I,A,T):-1!==l.indexOf("@")?w(I):"<span";var N=C(P,A,T);return N&&(B+=" "+N),""!==h&&(B+=' class="'+h+'"'),-1!==l.indexOf("!")?B+=" data-text>"+F+"</a>":-1!==l.indexOf("@")?B+=" data-text/>":B+=' data-text="'+I+'"><span>'+F+"</span></span>",B}if("string"!=typeof f)return"";var B=$.terminal.format_split(f);return(f=$.map(B,function(u){if(""===u)return u;if($.terminal.is_formatting(u))return(u=u.replace(/\[\[[^\]]+\]/,function(t){return t.replace(/&nbsp;/g," ")})).replace(format_parts_re,A);var l,f=t(u=(u=safe(u)).replace(/\\\]/,"&#93;")),p=extra_css(u,D);return p?(u=wide_characters(u,D),l='<span style="'+style_to_string(p)+'"'):l="<span",l+' data-text="'+f+'">'+u+"</span>"}).join("")).replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}}(),$.terminal.Exception=function(t,u,l){1==arguments.length?(this.message=arguments[0],this.type="TERMINAL"):(this.type=t,this.message=u,l&&(this.stack=l))},$.terminal.Exception.prototype=Error(),$.terminal.Exception.prototype.toString=function(){return this.message+"\n"+this.stack},$.fn.visible=function(){return this.css("visibility","visible")},$.fn.hidden=function(){return this.css("visibility","hidden")};var warnings=[];function warn(t){t="[jQuery Terminal] "+t,-1===warnings.indexOf(t)&&(warnings.push(t),console?console.warn?console.warn(t):console.log&&console.log(t):setTimeout(function(){throw Error("WARN: "+t)},0))}var ids={};function terminal_ready(t){return!!(t.closest("body").length&&t.is(":visible")&&t.find(".cmd-prompt").length)}function format_stack_trace(t){return(t=$.terminal.escape_brackets(t)).split(/\n/g).map(function(t){return"[[;;;terminal-error]"+t.replace(url_re,function(t){return"]"+t+"[[;;;terminal-error]"})+"]"}).join("\n")}function get_char_size(t){var u;if(terminal_ready(t)){var l=t.find(".cmd-prompt").clone().css({visiblity:"hidden",position:"absolute"});l.appendTo(t.find(".cmd")).html("&nbsp;").wrap('<div class="cmd-wrapper"/>'),u={width:l.width(),height:l.height()},l.parent().remove()}else{var f=$('<div class="terminal terminal-temp"><div class="terminal-wrapper"><div class="terminal-output"><div><div class="terminal-line" style="float: left"><span>&nbsp;</span></div></div></div><div class="terminal-pixel"></div></div>').appendTo("body");if(f.addClass(t.attr("class")).attr("id",t.attr("id")),t){var p=t.attr("style");p&&(p=p.split(/\s*;\s*/).filter(function(t){return!t.match(/display\s*:\s*none/i)}).join(";"),f.attr("style",p))}var D=f.find(".terminal-line");u={width:D.width(),height:D.height()},f.remove()}return u}function get_num_chars(t,u){return Math.floor(t.find(".terminal-fill").width()/u.width)||1e3}function get_num_rows(t,u){return Math.floor(t.find(".terminal-fill").height()/u.height)}function all(t,u){return t.filter(function(t){return t[u]()===t}).length===t.length}function string_case(t){var u=t.split("");return all(u,"toLowerCase")?"lower":all(u,"toUpperCase")?"upper":"mixed"}function same_case(t){return"mixed"!==string_case(t)}function is_function(t){return"function"===get_type(t)}function is_object(t){return t&&"object"==typeof t}function is_promise(t){return is_object(t)&&is_function(t.then||t.done)}function is_deferred(t){return is_promise(t)&&is_function(t.promise)}function is_array(t){return Array.isArray(t)}function get_type(t){return"function"==typeof t?"function":null===t?t+"":Array.isArray(t)?"array":"object"==typeof t?"object":typeof t}$.jrpc=function(t,u,l,f,p){var D,h=new $.Deferred;function g(t){return $.isNumeric(t.id)&&(void 0!==t.result||void 0!==t.error)}ids[(D=$.isPlainObject(t)?t:{url:t,method:u,params:l,success:f,error:p}).url]=ids[D.url]||0;var y={jsonrpc:"2.0",method:D.method,params:D.params,id:++ids[D.url]};return $.ajax({url:D.url,beforeSend:function(t,u){is_function(D.request)&&D.request(t,y),u.data=JSON.stringify(y)},success:function(t,u,l){var f;l.getResponseHeader("Content-Type").match(/(application|text)\/json/)||warn("Response Content-Type is neither application/json nor text/json");try{f=JSON.parse(t)}catch(u){if(D.error)D.error(l,"Invalid JSON",u);else throw new $.terminal.Exception("JSON","Invalid JSON",u.stack);h.reject({message:"Invalid JSON",response:t});return}is_function(D.response)&&D.response(l,f),g(f)||"system.describe"===D.method?(D.success&&D.success(f,u,l),h.resolve(f)):(D.error&&D.error(l,"Invalid JSON-RPC"),h.reject({message:"Invalid JSON-RPC",response:t}))},error:D.error,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"}),h.promise()},$.rpc=function(t,u,l){var f=new $.Deferred;function p(t){t.error?f.reject(t.error):f.resolve(t.result)}function D(t,u,l){f.reject({message:l})}return $.jrpc(t,u,l,p,D),f.promise()},Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var version_set=!$.terminal.version.match(/^\{\{/),copyright="Copyright (c) 2011-2023 Jakub T. Jankiewicz <https://jcubic.pl/me>",version_string=version_set?" v. "+$.terminal.version:" ",reg=RegExp(" {"+version_string.length+"}$"),name_ver="jQuery Terminal Emulator"+(version_set?version_string:""),signatures=[["jQuery Terminal","(c) 2011-2023 jcubic"],[name_ver,copyright.replace(/^Copyright | *<.*>/g,"")],[name_ver,copyright.replace(/^Copyright /,"")],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/_/_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(reg," ")+version_string,copyright],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(reg,"")+version_string,copyright]];$.terminal.nested_formatting.__meta__=!0,$.terminal.nested_formatting.__inherit__=!0,$.terminal.nested_formatting.__no_warn__=!0,$.terminal.defaults={prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,tabindex:1,invokeMethods:!1,exceptionHandler:null,pauseEvents:!0,softPause:!1,mousewheel:null,touchscroll:null,memory:!1,cancelableAjax:!0,processArguments:!0,execAnimation:!1,execAnimationDelay:100,linksNoReferrer:!1,externalPause:!0,useCache:!0,anyLinks:!1,linksNoFollow:!1,processRPCResponse:null,completionEscape:!0,mobileDelete:is_mobile,convertLinks:!0,extra:{},tabs:4,historySize:60,scrollObject:null,historyState:!1,importHistory:!1,historyFilter:null,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[$.terminal.nested_formatting],unixFormatting:{escapeBrackets:!1,ansiParser:{},ansiArt:!1},onAjaxError:null,pasteImage:!0,scrollBottomOffset:20,wordAutocomplete:!0,caseSensitiveAutocomplete:!0,caseSensitiveSearch:!0,clickTimeout:200,holdTimeout:400,holdRepeatTimeout:200,repeatTimeoutKeys:[],mobileIngoreAutoSpace:[],request:$.noop,response:$.noop,describe:"procs",onRPCError:null,keymap:null,doubleTab:null,doubleTabEchoCommand:!1,completion:!1,onInit:$.noop,onClear:$.noop,onBlur:$.noop,onFocus:$.noop,onTerminalChange:$.noop,onExit:$.noop,onPush:$.noop,onPop:$.noop,keypress:$.noop,keydown:$.noop,renderHandler:null,onAfterRedraw:$.noop,onEchoCommand:$.noop,onPaste:$.noop,onFlush:$.noop,onBeforeCommand:null,onAfterCommand:null,onBeforeEcho:null,onAfterEcho:null,onBeforeLogin:null,onAfterLogout:null,onBeforeLogout:null,onCommandChange:null,onPositionChange:null,allowedAttributes:["title","target","rel",/^aria-/,"id",/^data-/],strings:{comletionParameters:"From version 1.0.0 completion function need to have two arguments",wrongPasswordTryAgain:"Wrong username or password try again!",wrongPassword:"Wrong username or password!",ajaxAbortError:"Error while aborting ajax call!",wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with describe == false or rpc without system.describe",oneInterpreterFunction:"You can't use more than one function (rpc without system.describe or with option describe == false counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:"Sorry, but terminal said that you use invalid selector!",invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveLoop:"Recursive loop in echo detected, skip",notAString:"%s function: argument is not a string",redrawError:"Internal error, wrong position in cmd redraw",invalidStrings:"Command %s have unclosed strings",invalidMask:"Invalid mask used only string or boolean allowed",defunctTerminal:"You can't call method on terminal that was destroyed"}};var requests=[],terminals=new Cycle,save_state=[],change_hash=!1,fire_hash_change=!0,first_instance=!0;$.fn.terminal=function(t,u){function l(t){t&&(this.storage={}),this.set=function(u,l){t?this.storage[u]=l:$.Storage.set(u,l)},this.get=function(u){return t?this.storage[u]:$.Storage.get(u)},this.remove=function(u){t?delete this.storage[u]:$.Storage.remove(u)}}function f(t){if($.terminal.unclosed_strings(t)){var u=$.terminal.escape_brackets(t),l=sprintf(eM().invalidStrings,"`"+u+"`");throw new $.terminal.Exception(l)}return is_function(tt.processArguments)?process_command(t,tt.processArguments):tt.processArguments?$.terminal.parse_command(t):$.terminal.split_command(t)}function p(t,u){return(u=u||{},$.terminal.Animation&&t instanceof $.terminal.Animation)?(t.start(eU),!1):is_function(tt.renderHandler)?unpromise(t,function(t){try{var l=tt.renderHandler.call(eU,t,u,eU);if(!1===l)return!1;if("string"==typeof l||y(l)||is_promise(l))return l;return t}catch(t){return["[[;red;]"+t.message+"]",format_stack_trace(t.stack)].join("\n")}}):t}function D(t,u){if(y(t))return['<div class="terminal-render-item"/>',$.extend({},u,{raw:!0,finalize:function(l){l.find(".terminal-render-item").replaceWith(t),u&&is_function(u.finalize)&&u.finalize(l,eU)}})]}function h(t,u){var l=D(t,u);if(l)return eU.echo.apply(eU,l),!0}function g(t){return Q.find("[data-index="+t+"]")}function y(t){return t instanceof $.fn.init||t instanceof Element}function C(t){!1===(t=p(t))||h(t)||("string"==typeof t?eU.echo(t):is_array(t)?eU.echo($.map(t,function(t){return JSON.stringify(t)}).join(" ")):"object"==typeof t?eU.echo(JSON.stringify(t)):eU.echo(t))}function F(t,u){var l=/(.*):([0-9]+):([0-9]+)$/,f=t.match(l);f&&(eU.pause(tt.softPause),$.get(f[1],function(t){var l=f[1],p=t.split("\n"),D=+f[2]-1,h=D>2?D-2:0,g=p.slice(h,D+3).map(function(t,l){var f="["+(D+l-1)+"]: ",p=u-f.length-4;return t.length>p&&(t=t.substring(0,p)+"..."),(D>2?2===l:l===D)&&(t="[[;#f00;]"+$.terminal.escape_brackets(t)+"]"),f+t}).filter(Boolean).join("\n");g.length&&(eU.echo("[[b;white;]"+l+"]"),eU.echo(g).resume())},"text"))}function E(t){if(is_function(tt.onRPCError))tt.onRPCError.call(eU,t);else if(eU.error("&#91;RPC&#93; "+t.message),t.error&&t.error.message){var u="	"+(t=t.error).message;t.file&&(u+=' in file "'+t.file.replace(/.*\//,"")+'"'),t.at&&(u+=" at line "+t.at),eU.error(u)}}function w(t,u){var l=function(u,l){eU.pause(tt.softPause),$.jrpc({url:t,method:u,params:l,request:function(t,u){try{tt.request.call(eU,t,u,eU)}catch(t){O(t,"USER")}},response:function(t,u){try{tt.response.call(eU,t,u,eU)}catch(t){O(t,"USER")}},success:function(t){t.error?E(t.error):is_function(tt.processRPCResponse)?tt.processRPCResponse.call(eU,t.result,eU):null!==t.result&&C(t.result),eU.resume()},error:B})};return function(t,p){if(""!==t){try{t=f(t)}catch(t){O(t,"TERMINAL (get_processed_command)");return}if(u&&"help"!==t.name){var D=p.token(!0);D?l(t.name,[D].concat(t.args)):p.error("&#91;AUTH&#93; "+eM().noTokenError)}else l(t.name,t.args)}}}function A(t,u,l,p){return function(D,h){if(""!==D){try{g=f(D)}catch(t){is_function(tt.exception)?tt.exception(t,eU):eU.error("Error: "+(t.message||t));return}var g,y=t[g.name],C=get_type(y);if("function"===C){if(!u||y.length===g.args.length)return y.apply(eU,g.args);eU.error("&#91;Arity&#93; "+sprintf(eM().wrongArity,g.name,y.length,g.args.length))}else if("object"===C||"string"===C){var F=[];"object"===C&&(F=Object.keys(y),y=A(y,u,l)),h.push(y,{prompt:g.name+"> ",name:g.name,completion:"object"===C?F:undefined})}else is_function(p)?p(D,eU):is_function(tt.onCommandNotFound)?tt.onCommandNotFound.call(eU,D,eU):h.error(sprintf(eM().commandNotFound,g.name))}}}function B(t,u,l){eU.resume(),is_function(tt.onAjaxError)?tt.onAjaxError.call(eU,t,u,l):"abort"!==u&&eU.error("&#91;AJAX&#93; "+u+" - "+eM().serverResponse+":\n"+$.terminal.escape_brackets(t.responseText))}function T(t,u,l){function f(t){t.error?E(t.error):is_function(tt.processRPCResponse)?tt.processRPCResponse.call(eU,t.result,eU):C(t.result),eU.resume()}function p(t,u){try{tt.request.call(eU,t,u,eU)}catch(t){O(t,"USER")}}function D(t,u){try{tt.response.call(eU,t,u,eU)}catch(t){O(t,"USER")}}function h(h){var g=h;if(!1!==tt.describe&&""!==tt.describe&&tt.describe.split(".").forEach(function(t){g=g[t]}),g&&g.length){var y={};$.each(g,function(l,h){$.isPlainObject(h)&&"string"==typeof h.name&&(y[h.name]=function(){var l=u&&"help"!==h.name,g=Array.prototype.slice.call(arguments),y=g.length+(l?1:0);if(tt.checkArity&&h.params&&h.params.length!==y)eU.error("&#91;Arity&#93; "+sprintf(eM().wrongArity,h.name,h.params.length,y));else{if(eU.pause(tt.softPause),l){var C=eU.token(!0);C?g=[C].concat(g):eU.error("&#91;AUTH&#93; "+eM().noTokenError)}$.jrpc({url:t,method:h.name,params:g,request:p,response:D,success:f,error:B})}})});var C="string"==typeof u?u:"login";y.help=y.help||function(t){if(void 0===t){var l=g.map(function(t){return t.name}).join(", ")+", help";eU.echo("Available commands: "+l)}else{var f=!1;if($.each(g,function(l,p){if(p.name===t){f=!0;var D="";if(D+="[[bu;;]"+p.name+"]",p.params){var h=p.params;u&&p.name!==C&&(h=h.slice(1)),D+=" "+h.join(" ")}return p.help&&(D+="\n"+p.help),eU.echo(D),!1}}),!f){if("help"===t)eU.echo("[[bu;;]help] [method]\ndisplay help for the method or list of methods if not specified");else{var p="Method `"+t+"' not found ";eU.error(p)}}}},l(y)}else l(null)}return $.jrpc({url:t,method:"system.describe",params:[],success:h,request:p,response:D,error:function(){l(null)}})}function S(t,u,l){l=l||$.noop;var f,p,D=get_type(t),h={},g=0;if("array"===D)f={},function t(l,D){if(l.length){var h=l[0],y=l.slice(1),C=get_type(h);"string"===C?(eU.pause(tt.softPause),!1===tt.describe?(1==++g?p=w(h,u):eU.error(eM().oneRPCWithIgnore),t(y,D)):T(h,u,function(l){l?$.extend(f,l):1==++g?p=w(h,u):eU.error(eM().oneRPCWithIgnore),eU.resume(),t(y,D)})):"function"===C?(p?eU.error(eM().oneInterpreterFunction):p=h,t(y,D)):"object"===C&&($.extend(f,h),t(y,D))}else D()}(t,function(){l({interpreter:A(f,!1,u,p&&p.bind(eU)),completion:Object.keys(f)})});else if("string"===D)!1===tt.describe?(f={interpreter:w(t,u)},$.isArray(tt.completion)&&(f.completion=tt.completion),l(f)):(eU.pause(tt.softPause),T(t,u,function(f){f?(h.interpreter=A(f,!1,u),h.completion=Object.keys(f)):h.interpreter=w(t,u),l(h),eU.resume()}));else if("object"===D)l({interpreter:A(t,tt.checkArity,u),completion:Object.keys(t)});else{if("undefined"===D)t=$.noop;else if("function"!==D){var y=D+" is invalid interpreter value";throw new $.terminal.Exception(y)}l({interpreter:t,completion:tt.completion})}}function R(t,u){var l="boolean"===get_type(u)?"login":u;return function(u,f,p){eU.pause(tt.softPause),$.jrpc({url:t,method:l,params:[u,f],request:function(t,u){try{tt.request.call(eU,t,u,eU)}catch(t){O(t,"USER")}},response:function(t,u){try{tt.response.call(eU,t,u,eU)}catch(t){O(t,"USER")}},success:function(t){!t.error&&t.result?p(t.result):p(null),eU.resume()},error:B})}}function O(t,u,l){is_function(tt.exceptionHandler)?tt.exceptionHandler.call(eU,t,u):(eU.exception(t,u),l||setTimeout(function(){throw t},0))}function L(t){function u(t,u,l,f,p,D,h){function g(t,h){return"[["+[u+(t||""),l,f,p,h||D].join(";")+"]"}function y(t){return"]"+g("!",t)+t+"]"+g()}if(!u.match(/!/)){var C=h.match(email_full_re)||h.match(url_full_re);if(C)return g("!",C[1])+h+"]";if(h.match(email_re)||h.match(url_nf_re)){var F=h.replace(email_re,y).replace(url_nf_re,y);return g("",D)+F+"]"}}return t}function l(t){return t.replace(email_re,"[[!;;]$1]").replace(url_nf_re,"[[!;;]$1]")}return $.terminal.have_formatting(t)?$.terminal.format_split(t).map(function(t){return $.terminal.is_formatting(t)?t.replace(format_parts_re,u):l(t)}).join(""):l(t)}function I(t,u){return(strlen(text(t))>u.cols||t.match(/\n/))&&(!0===tt.wrap&&undefined===u.wrap||!1===tt.wrap&&!0===u.wrap)}function z(t,u,l){return l.exec||u.options.clear_exec?$.terminal.each_extended_command(t,function(t){if(l.exec){u.options.exec=!1,u.options.clear_exec=!0;var f=t.trim();Z&&Z===f?(Z="",eU.error(eM().recursiveLoop)):(Z=f,$.terminal.extended_command(eU,t,{invokeMethods:l.invokeMethods}).then(function(){Z=""}))}}):t}function P(t){try{var u=!is_function(t.value),l=$.extend({exec:!0,raw:!1,finalize:$.noop,useCache:u,invokeMethods:!1,formatters:!0,convertLinks:tt.convertLinks},t.options||{}),f=tF(t.value);if(f&&is_function(f.then))return f.then(function(u){P($.extend(t,{value:u,options:l}))});if(""!==f){if(!l.raw){if(tt.useCache&&l.useCache){var p,D=f;if(V&&V.has(D)){var h=V.get(D);return tr.append(h.input,t.index,l,h.raw),!0}}if(l.formatters)try{f=$.terminal.apply_formatters(f,$.extend(tt,{echo:!0}))}catch(t){O(t,"FORMATTING")}if(f=z(f,t,l),""===f)return;l.convertLinks&&(f=L(f));var g=f;f=crlf($.terminal.normalize(f)),f=$.terminal.encode(f,{tabs:tt.tabs});var y=l.cols=eU.cols();I(f,l)?p=$.terminal.split_equal(f,y,{keepWords:l.keepWords,trim:!0}):f.match(/\n/)&&(p=f.split(/\n/))}}else g="";var C=p||f;V&&D&&u&&V.set(D,{input:C,raw:g}),tr.append(C,t.index,l,g)}catch(t){tr.clear(),is_function(tt.exceptionHandler)?tt.exceptionHandler.call(eU,t,"TERMINAL"):alert_exception("[Internal Exception(process_line)]",t)}return!0}function N(t){if(!(t=$.extend({},{update:!1,scroll:!0},t||{})).update){es.resize(ee);var u=Q.empty().detach()}try{tr.clear(),unpromise(ti.render(eU.rows(),function(t){return t.map(P)}),function(){eU.flush(t),t.update||es.before(u),e_("onAfterRedraw")})}catch(t){is_function(tt.exceptionHandler)?tt.exceptionHandler.call(eU,t,"TERMINAL (redraw)"):alert_exception("[redraw]",t)}}function M(){if(tt.outputLimit>=0){t=0===tt.outputLimit?eU.rows():tt.outputLimit;var t,u=Q.find("> div > div");if(u.length+1>t){var l=u.length-t+1,f=u.slice(0,l),p=f.parent();f.remove(),p.each(function(){var t=$(this);t.is(":empty")&&(ti.unmount(t),t.remove())}),ti.limit_snapshot(l)}}}function H(){if(undefined===tt.greetings)eU.echo(eU.signature,{finalize:a11y_hide,formatters:!1});else if(tt.greetings){var t=typeof tt.greetings;"string"===t?eU.echo(tt.greetings):"function"===t?eU.echo(function(){if(tt.greetings)try{var t=new $.Deferred,u=tt.greetings.call(eU,t.resolve);return u&&t.resolve(u),t.promise()}catch(t){tt.greetings=null,O(t,"greetings")}}):eU.error(eM().wrongGreetings)}}function W(t){var u=es.mask();switch(typeof u){case"string":return t.replace(/./g,u);case"boolean":if(u)return t.replace(/./g,tt.maskChar);return $.terminal.escape_formatting(t)}throw new $.terminal.Exception(eM().invalidMask)}function U(t){void 0===t&&(t=eU.get_command());var u=es.prompt(!0);t=W(t);var l={exec:!1,formatters:!1,convertLinks:!1,finalize:function(u){a11y_hide(u.addClass("terminal-command")),e_("onEchoCommand",[u,t])}};t=$.terminal.apply_formatters(t,{command:!0}),eU.echo(u+t,l)}function q(){return tm.outerWidth()!==eU.outerWidth()}function K(t){var u=terminals.get()[t[0]];if(!u)throw new $.terminal.Exception(eM().invalidTerminalId);var l=t[1];if(save_state[l])u.import_view(save_state[l]);else{change_hash=!1;var f=t[2];f&&u.exec(f).done(function(){change_hash=!0,save_state[l]=u.export_view()})}}function J(t){return function(u){eU.error("["+t+"] "+(u.message||u)).resume()}}function Y(){change_hash&&(fire_hash_change=!1,location.hash="#"+JSON.stringify(hash_commands),setTimeout(function(){fire_hash_change=!0},100))}"Map"in root&&(V=new Map);var V,G,X,Z,Q,ee,et,en,er,ei,eo,eu,ea,es,el,ec,ef,ep,eD,em=!0,ed=[];function eh(t,u,l){function f(){(tt.historyState||tt.execHash&&l)&&(save_state.length?eU.save_state(null):eU.save_state())}function p(){l||(change_hash=!0,tt.historyState&&eU.save_state(t,!1),change_hash=w)}function D(){E.resolve(),e_("onAfterCommand",[t])}function h(t,u){void 0!==t&&C(t),D(),u&&eU.resume()}function g(t){return is_function(t.done||t.then)&&e3}function y(){var u=F.interpreter.call(eU,t,eU);if(p(),!u)return ts?ed.push(function(){D()}):D(),E.promise();!eZ&&(g(u)?ts=!0:is_promise(u)&&eU.pause(tt.softPause)),eZ=!1;var l=J("Command");return is_function(u.done||u.then)?unpromise(u,function(t){h(t,!0)},l):$.when(u).done(h).catch(l)}em&&(em=!1,f());try{if(!1===e_("onBeforeCommand",[t]))return;l?(Z=t.trim(),X=$.terminal.split_command(Z)):X=$.terminal.split_command(t),!ek()&&l&&(is_function(tt.historyFilter)&&tt.historyFilter(t)||t.match(tt.historyFilter))&&es.history().append(t);var F=ea.top();!u&&tt.echoCommand&&U(t);var E=new $.Deferred,w=change_hash;if(t.match(/^\s*login\s*$/)&&eU.token(!0))p(),eU.level()>1?eU.logout(!0):eU.logout(),D();else if(tt.exit&&t.match(/^\s*exit\s*$/)&&!e4){p();var A=eU.level();(1===A&&eU.get_token()||A>1)&&(eU.get_token(!0)&&eU.set_token(undefined,!0),eU.pop()),D()}else if(tt.clear&&t.match(/^\s*clear\s*$/)&&!e4)p(),eU.clear(),D();else{var B=y();if(B)return B}return E.promise()}catch(t){if(O(t,"USER",l),eU.resume(),l)throw t}}function eg(){!1!==e_("onBeforeLogout",[],!0)&&(ev(),e_("onAfterlogout",[],!0),eU.login(eD,!0,ew))}function ev(){var t=eU.prefix_name(!0)+"_";to.remove(t+"token"),to.remove(t+"login")}function ey(t){var u=eU.prefix_name()+"_interpreters",l=to.get(u);l=l?JSON.parse(l):[],-1===$.inArray(t,l)&&(l.push(t),to.set(u,JSON.stringify(l)))}function eC(t){var u=ea.top(),l=eU.prefix_name(!0);ek()||ey(l);var f=eU.login_name(!0);es.name(l+(f?"_"+f:""));var p=u.prompt;is_function(p)&&(p=tE(p)),p!==es.prompt()&&(is_function(u.prompt)&&es.prompt(""),es.prompt(u.prompt)),void 0!==u.history&&eU.history().toggle(u.history),$.isPlainObject(u.keymap)&&es.keymap(null).keymap($.extend({},tw,$.omap(u.keymap,function(t,u){return function(){var t=[].slice.call(arguments);try{return u.apply(eU,t)}catch(t){O(t,"USER KEYMAP")}}}))),es.set(""),e6.resolve(),!t&&is_function(u.onStart)&&u.onStart.call(eU,eU)}function e_(t,u,l){u=(u||[]).concat([eU]);var f=ea&&ea.top();if(f&&is_function(f[t])&&!l)try{return f[t].apply(eU,u)}catch(u){delete f[t],O(u,t)}else if(is_function(tt[t]))try{return tt[t].apply(eU,u)}catch(u){tt[t]=null,O(u,t)}}var eb=function(){function t(t){if(!t)try{return eU.scroll_to(eU.find(".cmd-cursor-line")),!0}catch(t){return!0}}return void 0!==__webpack_require__.g&&"function"==typeof __webpack_require__.g.it?t:debounce(t,100,{leading:!0,trailing:!1})}();function eF(){return eU.find(".cmd-cursor-line").is_fully_in_viewport(eU).then(eb)}function eE(t){if("undefined"!=typeof history&&history.replaceState){var u="#"+JSON.stringify(t),l=location.href.replace(/#.*$/,u);history.replaceState(null,"",l)}}function ex(){if(fire_hash_change&&tt.execHash)try{if(location.hash){var t=location.hash.replace(/^#/,"");hash_commands=JSON.parse(decodeURIComponent(t))}else hash_commands=[];hash_commands.length?K(hash_commands[hash_commands.length-1]):save_state[0]&&eU.import_view(save_state[0])}catch(t){O(t,"TERMINAL")}}function ew(){function t(){e5=$.noop,!l&&eU.enabled()&&eU.resume(!0)}eC(),H(),ti.length&&(eY.length?$.when.apply($,eY).then(eU.refresh):eU.refresh());var u,l=!1;if(is_function(tt.onInit)){e5=function(){l=!0};try{u=tt.onInit.call(eU,eU)}catch(t){O(t,"OnInit")}finally{is_promise(u)?u.then(t).catch(function(u){O(u,"OnInit"),t()}):t()}}first_instance&&(first_instance=!1,$(window).on("hashchange",ex))}function ek(){return e4||!1!==es.mask()}function eA(t){var u,l=ea.top();if(is_function(l.keydown)){if(undefined!==(u=l.keydown.call(eU,t,eU)))return u}else if(is_function(tt.keydown)&&undefined!==(u=tt.keydown.call(eU,t,eU)))return u}var eB={"CTRL+D":function(t,u){return e4||(""===es.get()?ea.size()>1||is_function(eD)?eU.pop(""):eU.resume():u()),!1},"CTRL+C":function(){return with_selection(function(t){if(""===t){var u=eU.get_command(),l=eU.get_position();U(u=u.slice(0,l)+"^C"+u.slice(l+2)),eU.set_command("")}else{var f=eU.find("textarea");text_to_clipboard(f,process_selected_html(t))}}),!1},"CTRL+L":function(){return eU.clear(),!1},TAB:function(t,u){var l,f,p=ea.top();function D(t){t=t.slice(),!eU.before_cursor(!1).match(/\s/)&&(tt.clear&&-1===$.inArray("clear",t)&&t.push("clear"),tt.exit&&-1===$.inArray("exit",t)&&t.push("exit")),eU.complete(t,{echo:!0,word:tt.wordAutocomplete,escape:tt.completionEscape,caseSensitive:f,echoCommand:tt.doubleTabEchoCommand,doubleTab:tt.doubleTab})}if(f=void 0!==p.caseSensitiveAutocomplete?p.caseSensitiveAutocomplete:tt.caseSensitiveAutocomplete,"settings"===(l=tt.completion&&"boolean"!==get_type(tt.completion)&&undefined===p.completion?tt.completion:p.completion)&&(l=tt.completion),l)switch(get_type(l)){case"function":var h=eU.before_cursor(tt.wordAutocomplete);if(3===l.length){O(Error(eM().comletionParameters),"USER");break}unpromise(l.call(eU,h,D),D,J("Completion"));break;case"array":D(l);break;default:throw new $.terminal.Exception(eM().invalidCompletion)}else u();return!1},"CTRL+V":function(t,u){return u(t),eU.oneTime(200,function(){eU.scroll_to_bottom()}),!0},"CTRL+TAB":function(){if(terminals.length()>1)return eU.focus(!1),!1},PAGEDOWN:function(){eU.scroll(eU.height())},PAGEUP:function(){eU.scroll(-eU.height())}};function eT(t){var u,l;if(e3)return!1;if(eU.enabled()){if(eU.paused()){if(!tt.pauseEvents&&undefined!==(u=eA(t)))return u;if(68===t.which&&t.ctrlKey){if(tt.pauseEvents&&undefined!==(u=eA(t)))return u;if(requests.length){for(l=requests.length;l--;){var f=requests[l];if(4!==f.readyState)try{f.abort()}catch(u){is_function(tt.exceptionHandler)?tt.exceptionHandler.call(eU,t,"AJAX ABORT"):eU.error(eM().ajaxAbortError)}}requests=[]}eU.resume()}return!1}if(undefined!==(u=eA(t)))return u;9!==t.which&&(eG=0)}}function eS(t){var u=ea.top();if(tu&&(!ts||!tt.pauseEvents)){if(is_function(u.keypress))return u.keypress.call(eU,t,eU);if(is_function(tt.keypress))return tt.keypress.call(eU,t,eU)}}function eR(t){return function(u,l){var f=$.terminal.apply_formatters(u,{animation:!0});e3=!0;var p=eU.get_prompt(),D=0,h=$.terminal.length(f);if(u.length>0){var g="";l.prompt?g=l.prompt:eU.set_prompt("");var y=eU.is_bottom(),C=$.terminal.partition(f,{wrap:!1}),F=setInterval(function(){if(e8){eU.skip_stop();var E=$.terminal.substring(f,D,h);g+=E,eU.set_prompt(g),D=h}else{var w=C[D];if(l.mask){var A=es.mask();"string"==typeof A?w=A:A&&(w=tt.maskChar)}g+=w,eU.set_prompt(g),y&&("\n"===w||!eU.is_bottom())&&eU.scroll_to_bottom(),D++}D===h&&(clearInterval(F),setTimeout(function(){t(u,p,l),e3=!1},l.delay))},l.delay)}}}var eO=eR(function(t,u,l){eU.set_prompt(t),l.finalize()}),ej=function(){var t=eR(function(t,u,l){eU.set_prompt(u),eU.insert(t),l.finalize()});return function(u,l,f){return t(l,$.extend({},f,{prompt:u+eU.get_command()}))}}(),eL=eR(function(t,u,l){eU.set_prompt(u),eU.echo(t,$.extend({},l,{typing:!1}))}),eI=function(){var t=eR(function(t,u,l){eU.set_prompt(u),with_prompt(u,function(u){var f=W(t);f=$.terminal.apply_formatters(f,{command:!0});var p=u+f;l=$.extend({},l,{typing:!1,formatters:!1,convertLinks:!1}),eU.echo(p,l)},eU)});return function(u,l,f){return t(l,$.extend({},f,{prompt:u,mask:!0}))}}();function ez(t,u,l){return function(f,p){var D=new $.Deferred;return(e7(function(){var h=$.extend({typing:!1,delay:tt.execAnimationDelay},p);if(h.typing){if("string"!=typeof f)return D.reject(t+": Typing animation require string");if("number"!=typeof h.delay||isNaN(h.delay))return D.reject(t+": Invalid argument, delay need to be a number");eU.typing(t,h.delay,f,h).then(function(){D.resolve()})}else u(f,h);is_function(l)&&l(f,h)}),p&&p.typing)?D.promise():eU}}function eP(t,u,l){return unpromise(always(e_("onBeforeLogin",[t,u])),l,"validate_login")}function e$(t,u,l,f){tt.history&&es.history().disable();var p=eU.level();function D(){for(;eU.level()>p;)eU.pop(undefined,!0);tt.history&&es.history().enable()}function h(t,u){var l=eU.prefix_name(!0)+"_";to.set(l+"token",u),to.set(l+"login",t)}function g(t,p,g){var y;p?(D(),h(t,p),e4=!1,e_("onAfterLogin",[t,p]),y=l):(u?(g||eU.error(eM().wrongPasswordTryAgain),eU.pop(undefined,!0).set_mask(!1)):(e4=!1,g||eU.error(eM().wrongPassword),eU.pop(undefined,!0).pop(undefined,!0)),y=f),eU.paused()&&eU.resume(),is_function(y)&&y(),eU.off("terminal.autologin")}(function(){var t=eU.prefix_name(!0)+"_";to.remove(t+"token"),to.remove(t+"login")})(),eU.on("terminal.autologin",function(t,u,l,f){eP(u,l,function(t){!1!==t&&g(u,l,f)})}),eU.push(function(u){eU.set_mask(tt.maskChar).push(function(l){try{eP(u,l,function(p){if(!1===p){D();return}eU.pause();try{var h=[u,l,function(t,l){g(u,t,l)}],y=t.apply(eU,h);unpromise(y,function(t){g(u,t)},function(t){eU.pop(undefined,!0).pop(undefined,!0),eU.error(t.message),is_function(f)&&f(),eU.paused()&&eU.resume(),eU.off("terminal.autologin")})}catch(t){O(t,"AUTH")}})}catch(t){O(t,"AUTH")}},{prompt:eM().password+": ",name:"password"})},{prompt:eM().login+": ",name:"login"})}function eN(t){return function(u){t.add(u)}}function eM(){return $.extend({},$.terminal.defaults.strings,tt&&tt.strings||{})}function eH(t,u){return parseInt(t.getPropertyValue(u),10)||0}function eW(){var t=window.getComputedStyle(tm[0]);function u(u){return eH(t,"padding-"+u)}var l=u("left"),f=u("right");return{top:u("top"),left:l,right:f,bottom:u("bottom")}}var eU=this;if(this.length>1)return this.each(function(){$.fn.terminal.call($(this),t,$.extend({name:eU.selector},u))});if(eU.is("body,html")){if(eU.hasClass("full-screen-terminal")){var eq=eU.find("> .terminal").data("terminal");if(eq)return eq}G=eU,eU=$("<div/>").appendTo("body"),$("body").addClass("full-screen-terminal")}else if(eU.data("terminal"))return eU.data("terminal");var eK=$.omap({id:function(){return eX},clear:function(){return!1!==e_("onClear")&&(tr.clear(),ti.clear(function(t){return g(t)}),Q[0].innerHTML="",eU.prop({scrollTop:0})),eU},export_view:function(){var t=e_("onExport");return t=t||{},$.extend({},{focus:tu,mask:es.mask(),prompt:eU.get_prompt(),command:eU.get_command(),position:es.position(),lines:clone(ti.data()),interpreters:ea.clone(),history:es.history().data},t)},import_view:function(t){if(e4)throw Error(sprintf(eM().notWhileLogin,"import_view"));return e_("onImport",[t]),e7(function(){eU.set_prompt(t.prompt),eU.set_command(t.command),es.position(t.position),es.mask(t.mask),t.focus&&eU.focus(),ti.import(clone(t.lines).filter(function(t){return t[0]})),t.interpreters instanceof Stack&&(ea=t.interpreters),tt.importHistory&&es.history().set(t.history),N()}),eU},save_state:function(t,u,l){if(void 0!==l?save_state[l]=eU.export_view():save_state.push(eU.export_view()),$.isArray(hash_commands)||(hash_commands=[]),undefined!==t&&!u){var f=[eX,save_state.length-1,t];hash_commands.push(f),Y()}return eU},exec:function(t,u,l){function f(u){unpromise(eh(t,u,!0),function(){X=null,D.resolve()},function(){X=null,D.reject()})}u&&"object"==typeof u&&(l=u,u=null);var p=$.extend({deferred:null,silent:!1,typing:!1,delay:tt.execAnimationDelay},l);null===u&&(u=p.silent),is_deferred(p.deferred)||(p.deferred=new $.Deferred);var D=p.deferred;return e9(function(){if($.isArray(t))!function f(){var p=t.shift();p?eU.exec(p,u,l).done(f):D.resolve()}();else if(ts)te.push([t,u,p]);else if(p.typing&&!u){var h=p.delay;ts=!0,eU.typing("enter",h,t,{delay:h}).then(function(){ts=!1,f(!0)}),D.then(function(){ts=!1})}else f(u)}),D.promise()},autologin:function(t,u,l){return eU.trigger("terminal.autologin",[t,u,l]),eU},login:function(t,u,l,f){if(eQ.push([].slice.call(arguments)),e4)throw Error(sprintf(eM().notWhileLogin,"login"));if(!is_function(t))throw Error(eM().loginIsNotAFunction);if(e4=!0,eU.token()&&1===eU.level()&&!tl)e4=!1,eU.logout(!0);else{var p=eU.token(!0),D=eU.login_name(!0);p&&D?(e4=!1,eU.pause(),eP(D,p,function(p){!1!==p?is_function(l)&&l():(eU.resume(),e$(t,u,l,f))})):e$(t,u,l,f)}return eU},settings:function(){return tt},before_cursor:function(t){var u,l=es.position(),f=es.get().slice(0,l),p=f.split(/\s/);if(t){if(1===p.length)u=p[0];else{var D=f.match(/(\\?")/g),h=D?D.filter(function(t){return!t.match(/^\\/)}).length:0;if(((D=f.match(/'/g))?D.length:0)%2==1)u=f.match(/('[^']*)$/)[0];else if(h%2==1)u=f.match(/("(?:[^"]|\\")*)$/)[0];else for(u=p[p.length-1],tv=p.length-1;tv>0;tv--){var g=p[tv-1];if("\\"===g[g.length-1])u=p[tv-1]+" "+u;else break}}}else u=f;return u},complete:function(t,u){var l=(u=$.extend({word:!0,echo:!1,escape:!0,echoCommand:!1,caseSensitive:!0,doubleTab:null},u||{})).caseSensitive,f=eU.before_cursor(u.word).replace(/\\"/g,'"'),p=!1;if(u.word&&(f.match(/^"/)?p='"':f.match(/^'/)&&(p="'"),p&&(f=f.replace(/^["']/,""))),eG%2==0)en=eU.before_cursor(u.word);else if(eU.before_cursor(u.word)!==en)return;var D=$.terminal.escape_regex(f);function h(t){return'"'===p&&(t=t.replace(/"/g,'\\"')),!p&&u.escape&&(t=t.replace(/(["'() ])/g,"\\$1")),t}function g(){for(var p=[],D=t.length;D--;)if(t[D].match(/\n/)&&u.word&&warn("If you use commands with newlines you should use word option for complete or wordAutocomplete terminal option"),y.test(t[D])){var g=h(t[D]);!l&&same_case(g)&&(f.toLowerCase()===f?g=g.toLowerCase():f.toUpperCase()===f&&(g=g.toUpperCase())),p.push(g)}return p}u.escape&&(D=D.replace(/(\\+)(["'() ])/g,function(t,u,l){return l.match(/[()]/)?u+"\\?\\"+l:u+"?"+l}));var y=RegExp("^"+D,l?"":"i"),C=g();function F(t,u){var l=eU.get_command(),f=eU.get_position(),D=RegExp("^"+t,"i"),h=l.slice(0,f),g=l.slice(f),y=u.replace(D,"")+(p||"");eU.set_command(h+y+g),eU.set_position((h+y).length)}if(1===C.length)return u.escape?F(D,C[0]):eU.insert(C[0].replace(y,"")+(p||"")),en=eU.before_cursor(u.word),!0;if(C.length>1){if(++eG>=2){if(eG=0,u.echo){if(is_function(u.doubleTab)){u.echoCommand&&U();var E=u.doubleTab.call(eU,f,C,U);if(void 0!==E)return E}else if(!1!==u.doubleTab){U();var w=C.slice().reverse().join("		");eU.echo($.terminal.escape_brackets(w),{keepWords:!0,formatters:!1})}return!0}}else{var A=common_string(h(f),C,l);if(A)return F(D,A),en=eU.before_cursor(u.word),!0}}},commands:function(){return ea.top().interpreter},set_interpreter:function(t,u){var l=$.Deferred();function f(){eU.pause(tt.softPause),S(t,u,function(t){eU.resume();var u=ea.top();$.extend(u,t),eC(!0),l.resolve()})}return is_function(u)?eU.login(u,!0,f):"string"===get_type(t)&&u?eU.login(R(t,u),!0,f):f(),l.promise()},greetings:function(){return H(),eU},paused:function(){return ts},pause:function(t){return e9(function(){e5(),ts=!0,es.disable(t||is_android),t||es.find(".cmd-prompt").hidden(),e_("onPause")}),eU},resume:function(t){return e9(function(){ts=!1,tu&&terminals.front()===eU&&es.enable(t),es.find(".cmd-prompt").visible();var u=te;te=[];for(var l=0;l<u.length;++l)eU.exec.apply(eU,u[l]);eU.trigger("resume");var f=ed.shift();f&&f(),!1!==e_("onResume")&&eU.scroll_to_bottom()}),eU},skip:function(){e8=!0},skip_stop:function(){e8=!1},animating:function(){return e3},cols:function(){return tt.numChars?tt.numChars:(ee&&1e3!==ee||(ee=get_num_chars(eU,th)),ee)},rows:function(){return tt.numRows?tt.numRows:(et||(et=get_num_rows(eU,th)),et)},history:function(){return es.history()},geometry:function(){let t=eW();return{terminal:{padding:{left:t.left,right:t.right,top:t.top,bottom:t.bottom},width:eo+t.left+t.right,height:eu+t.top+t.bottom},density:td,char:th,cols:this.cols(),rows:this.rows()}},history_state:function(t){function u(){tt.historyState=!0,save_state.length?terminals.length()>1&&eU.save_state(null):eU.save_state()}return t?void 0===window.setImmediate?setTimeout(u,0):setImmediate(u):tt.historyState=!1,eU},clear_history_state:function(){return hash_commands=[],save_state=[],eU},next:function(){if(1===terminals.length())return eU;terminals.front().disable();var t=terminals.rotate().enable(),u=t.offset().top-50;$("html,body").animate({scrollTop:u},500);try{trigger_terminal_change(t)}catch(t){O(t,"onTerminalChange")}return t},focus:function(t,u){return e9(function(){if(1===terminals.length())!1===t?eU.disable(u):eU.enable(u);else if(!1===t)eU.next();else{if(terminals.front()!==eU&&(terminals.forEach(function(t){t!==eU&&t.enabled()&&t.disable(u)}),!u))try{trigger_terminal_change(eU)}catch(t){O(t,"onTerminalChange")}terminals.set(eU),eU.enable(u)}}),eU},blur:function(t){return this.focus(!1,t)},freeze:function(t){return e7(function(){t?(eU.disable(),ta=!0):(ta=!1,eU.enable())}),eU},frozen:function(){return ta},enable:function(t){return tu||ta||(undefined===ee&&eU.resize(),e9(function(){var u;t||tu||e_("onFocus"),(t||undefined!==u)&&!t||(tu=!0,eU.paused()||es.enable(!0))})),eU},clear_cache:"Map"in root?function(){return tr.clear_cache(),V.clear(),es.clear_cache(),eU}:function(){return eU},disable:function(t){return e9(function(){var u;!t&&tu&&(u=e_("onBlur")),(!t&&undefined===u||t)&&(tu=!1,es.disable())}),eU},enabled:function(){return tu},signature:function(){for(var t=eU.cols(),u=signatures.length;u--;){var l=signatures[u].map(function(t){return t.length});if(Math.max.apply(null,l)<=t)return signatures[u].join("\n").replace(/\s+$/m,"")+"\n"}return""},version:function(){return $.terminal.version},cmd:function(){return es},get_command:function(){return es.get()},enter:ez("enter",U),set_command:function(t,u){return e7(function(){"string"!=typeof t&&(t=JSON.stringify(t)),es.set(t,undefined,u)}),eU},set_position:function(t,u){return e7(function(){es.position(t,u)}),eU},get_position:function(){return es.position()},insert:function(t,u){if("string"==typeof t){var l,f={stay:!1,typing:!1,delay:100};is_object(u)||(u={stay:u}),l=$.extend(f,u);var p=new $.Deferred;return(e7(function(){function u(){(tt.scrollOnEcho||f)&&eU.scroll_to_bottom()}var f=eU.is_bottom();if(l.typing){var D=l.delay;eU.typing("insert",D,t,tt).then(function(){u(),p.resolve()})}else es.insert(t,tt.stay),u()}),l.typing)?p.promise():eU}throw Error(sprintf(eM().notAString,"insert"))},set_prompt:ez("prompt",function(t){is_function(t)?es.prompt(function(u){return t.call(eU,u,eU)}):es.prompt(t)},function(t){ea.top().prompt=t}),get_prompt:function(){return ea.top().prompt},set_mask:function(t){return e7(function(){es.mask(!0===t?tt.maskChar:t)}),eU},get_mask:function(){return es.mask()},get_output:function(t){return t?ti.data():ti.get_snapshot()},resize:function(t,u){if(eU.is(":visible")){if(t&&u&&(eU.width(t),eU.height(u)),t=eU.width(),u=eU.height(),void 0!==tt.numChars||void 0!==tt.numRows){void 0!==tt.numChars&&(es.resize(tt.numChars),eU.refresh()),e_("onResize");return}var l=get_num_chars(eU,th),f=get_num_rows(eU,th);if(l!==ee||f!==et){eU.clear_cache();var p=l!==ee;ee=l,et=f,p&&(es.resize(ee),eU.refresh()),e_("onResize")}}else eU.stopTime("resize"),eU.oneTime(500,"resize",function(){eU.resize(t,u)});return eU},refresh:function(){return 0!==th.width&&css(eU[0],{"--char-width":th.width,"--pixel-density":td}),eU.clear_cache(),en&&es.resize(),N({scroll:!1,update:!0}),eU},flush:function(t){return t=$.extend({},{update:!1,scroll:!0},t||{}),e7(function(){try{if(tr.is_empty())return eU;var u,l,f,p=eU.is_bottom(),D=tt.scrollOnEcho&&t.scroll||p,h=!0,g=!1,y=$();if(t.update||(y=eU.find(".partial"),l=ti.get_partial()),tr.flush(function(f){if(f){if(is_function(f.finalize)){if(!t.update||!0!==f.raw||!f.newline){if(D&&u.find("img").on("load",function(){eU.scroll_to_bottom()}),t.update){ti.update_snapshot(f.index,l);var p="> div[data-index="+f.index+"]",C=Q.find(p);C.html()!==u.html()&&C.replaceWith(u)}else u.appendTo(Q),y.length||ti.make_snapshot(l);u.attr("data-index",f.index),g=!f.newline,u.toggleClass("partial",g),g&&(y=u),f.finalize(u)}}else{var F,E=f.line;"string"==typeof f.raw&&(g?l[l.length-1]+=f.raw:l.push(f.raw)),g?(F=u.children().last().append(E),g=!1):(F=$("<div/>").html(E),f.newline&&F.addClass("cmd-end-line"),u.append(F)),F.css("width","100%")}}else y.length?h&&(h=!1,g=!0,u=y):(u=$("<div/>"),l=[])}),y=eU.find(".partial"),0===y.length)css(es[0],{"--prompt-offset":"",top:""}),es.__set_prompt_margin(0),f=eU.find(".terminal-output div:last-child div:last-child"),"inline-block"===f.css("display")&&f.css({width:"100%",display:""});else if(l.length&&l[l.length-1]){var C=$.terminal.length(l[l.length-1]);C%=eU.cols();var F=(f=y.children().last())[0].getBoundingClientRect(),E=is_ch_unit_supported?C+"ch":C+"px";css(es[0],{top:-F.height/td+"px","--prompt-offset":E}),es.__set_prompt_margin(C)}M(),e_("onFlush");var w=eU.find(".cmd-cursor"),A=eU.find(".cmd").offset(),B=eU.offset();eU.stopTime("flush").oneTime(1,"flush",function(){css(eU[0],{"--terminal-height":eU.height(),"--terminal-x":A.left-B.left,"--terminal-y":A.top-B.top,"--terminal-scroll":eU.prop("scrollTop")}),tu&&(w.hide(),eU.oneTime(1,"flush",function(){w.show()}))}),u.on_load({done:function(){D&&eU.scroll_to_bottom()}})}catch(t){if(is_function(tt.exceptionHandler))try{tt.exceptionHandler.call(eU,t,"TERMINAL (Flush)")}catch(t){tt.exceptionHandler=$.noop,alert_exception("[exceptionHandler]",t)}else alert_exception("[Flush]",t)}finally{tr.clear()}}),eU},update:function(t,u,l){return e7(function(){if(t<0&&(t=ti.length()+t),ti.valid_index(t)){if(null===u)ti.update(t,null),Q.find("[data-index="+t+"]").remove();else{if(!1===(u=p(u,{update:!0,line:t})))return eU;unpromise(u,function(u){var f=D(u,l);f&&(u=f[0],l=f[1]),l=ti.update(t,u,l),unpromise(P({value:u,index:t,options:l}),function(){eU.flush({scroll:!1,update:!0})})})}}else eU.error("Invalid line number "+t)}),eU},remove_line:function(t){return eU.update(t,null)},last_index:function(){return ti.length()-1},echo:function(t,u,l){var f=arguments.length>0,D=l||new $.Deferred;function g(){eV=!1;var t=eY;eY=[];for(var u=0;u<t.length;++u)eU.echo.apply(eU,t[u])}function C(t){g(),O(t,"ECHO",!0)}function F(t){try{var l,F=$.extend({flush:!0,exec:!0,raw:tt.raw,finalize:$.noop,unmount:$.noop,delay:tt.execAnimationDelay,ansi:!1,typing:!1,externalPause:!0,keepWords:!1,invokeMethods:tt.invokeMethods,onClear:null,formatters:!0,allowedAttributes:tt.allowedAttributes,newline:!0},u||{}),E=tt.externalPause&&F.externalPause;if(function(u){y(t)||(F.finalize=function(t){F.raw&&t.addClass("raw"),F.ansi&&t.addClass("ansi");try{is_function(u)&&u.call(eU,t),t.on_load({error:function(t){t.replaceWith(use_broken_image)},done:function(t){t&&E&&eU.resume()},load:function(t){t&&E&&eU.pause()}})}catch(t){O(t,"USER:echo(finalize)"),u=null}})}(F.finalize),F.flush&&!tr.empty()&&eU.flush(),!1===e_("onBeforeEcho",[t]))return;if(F.typing){if("string"!=typeof t)return D.reject("echo: Typing animation require string or promise that resolve to string");if("number"!=typeof F.delay||isNaN(F.delay))return D.reject("echo: Invalid argument, delay need to be a number");eU.typing("echo",F.delay,t,F).then(function(){D.resolve()});return}if("function"==typeof t)l=t.bind(eU);else if(void 0===t)l=f?String(t):"";else{var w=p(t);if(!1===w)return eU;l=w}is_promise(l)&&(eV=!0),unpromise(l,function(u){if(!is_promise(w)||!1!==u){if(h(u,F))return eU;var l=ti.length();!ti.has_newline()&&l--,F.newline||"\n"!==u[u.length-1]||(u=u.slice(0,-1),F.newline=!0);var f=P({value:u,options:F,index:l});is_promise(f)&&(eV=!0),ti.push([u,F]),unpromise(f,function(){F.flush&&(eU.flush(),e_("onAfterEcho",[t])),g()},C)}},C)}catch(t){is_function(tt.exceptionHandler)?tt.exceptionHandler.call(eU,t,"TERMINAL (echo)"):alert_exception("[Terminal.echo]",t)}}var E=u&&u.typing;if(eV){var w=[t,u];E&&w.push(D),eY.push(w)}else F(t);return E?D.promise():eU},typing:function(t,u,l,f){var p,D,h=new $.Deferred;function g(){h.resolve(),is_function(D)&&D.apply(eU,arguments)}"object"==typeof f?(D=f.finalize||$.noop,p=$.extend({},f,{delay:u,finalize:g})):(D=f||$.noop,p={delay:u,finalize:g});var y=["prompt","echo","enter","insert"];function C(){return y.indexOf(t)>=0}return e7(function(){C()?"prompt"===t?eO(l,p):"echo"===t?eL(l,p):"enter"===t?with_prompt(eU.get_prompt(),function(t){eI(t,l,p)},eU):"insert"===t&&with_prompt(eU.get_prompt(),function(t){ej(t,l,p)},eU):h.reject("Invalid type only `echo` and `prompt` are supported")}),h.promise()},error:function(t,u){function l(t){return"string"!=typeof t&&(t=String(t)),"[[;;;terminal-error]"+$.terminal.escape_brackets(t).replace(/\\$/,"&#92;").replace(url_re,"]$1[[;;;terminal-error]")+"]"}return(u=$.extend({},u,{raw:!1,formatters:!1}),"function"==typeof t)?eU.echo(function(){return l(t.call(eU))},u):t&&t.then?(t.then(function(t){eU.echo(l(t))}).catch(J("Echo Error")),eU):eU.echo(l(t),u)},exception:function(t,u){var l=exception_message(t);if(u&&(l="&#91;"+u+"&#93;: "+l),l&&eU.error(l,{finalize:function(t){t.addClass("terminal-exception terminal-message")},keepWords:!0}),"string"==typeof t.fileName){var f=eU.paused();f||eU.pause(tt.softPause),$.get(t.fileName,function(u){var l=t.lineNumber-1,p=u.split("\n")[l];p&&eU.error("["+t.lineNumber+"]: "+p),f||eU.resume()},"text")}return t.stack&&eU.echo(format_stack_trace(t.stack),{finalize:function(t){t.addClass("terminal-exception terminal-stack-trace")},formatters:!1}),eU},scroll:function(t){var u;return t=Math.round(t),eU.prop,t>tc.prop("scrollTop")&&t>0&&tc.prop("scrollTop",0),u=tc.prop("scrollTop"),tc.scrollTop(u+t),eU},logout:function(t){if(e4)throw Error(sprintf(eM().notWhileLogin,"logout"));return e7(function(){if(t){var u=eQ.pop();eU.set_token(undefined,!0),eU.login.apply(eU,u)}else if(1===ea.size()&&eU.token())eU.logout(!0);else for(;ea.size()>1;)eU.token()?eU.logout(!0).pop().pop():eU.pop()}),eU},token:function(t){return to.get(eU.prefix_name(t)+"_token")},set_token:function(t,u){var l=eU.prefix_name(u)+"_token";return void 0===t?to.remove(l):to.set(l,t),eU},get_token:function(t){return eU.token(t)},login_name:function(t){return to.get(eU.prefix_name(t)+"_login")},name:function(){return ea.top().name},prefix_name:function(t,u){var l=(tt.name?tt.name+"_":"")+eX;if(t&&ea.size()>1){var f=ea.map(function(t){return t.name||""}).slice(1,u).join("_");f&&(l+="_"+f)}return l},read:function(t,u,l){if(f="object"==typeof arguments[1]?$.extend({typing:!1,delay:tt.execAnimationDelay,success:$.noop,cancel:$.noop},arguments[1]):{typing:!1,success:u||$.noop,cancel:l||$.noop},f.typing){var f,p=eU.get_prompt();return f.typing=!1,eU.typing("prompt",f.delay,t).then(function(){return eU.set_prompt(p).read(t,f)})}eZ=!0;var D=jQuery.Deferred(),h=!1;return eU.push(function(t){h=!0,D.resolve(t),is_function(f.success)&&f.success(t),eU.pop(),tt.history&&es.history().enable()},{name:"read",history:!1,prompt:t||"",onExit:function(){!h&&(D.reject(),is_function(f.cancel)&&f.cancel())}}),tt.history&&es.history().disable(),is_function(f.onReady)&&f.onReady.call(eU),D.promise()},push:function(t,u){return e9(function(){u=u||{};var l={infiniteLogin:!1},f=$.extend({},l,u);!f.name&&X&&(f.name=X.name),undefined===f.prompt&&(f.prompt=(f.name||">")+" ");var p=ea.top();p&&(p.mask=es.mask());var D=ts;function h(){e_("onPush",[p,ea.top()]),eC()}S(t,u.login,function(u){if(ea.push($.extend({},u,f)),!0!==f.completion||($.isArray(u.completion)?ea.top().completion=u.completion:u.completion||(ea.top().completion=!1)),f.login){var l,p=get_type(f.login);"function"===p?(l=f.infiniteLogin?$.noop:eU.pop,eU.login(f.login,f.infiniteLogin,h,l)):("string"===get_type(t)&&"string"===p||"boolean"===p)&&(l=f.infiniteLogin?$.noop:eU.pop,eU.login(R(t,f.login),f.infiniteLogin,h,l))}else h();!D&&eU.enabled()&&eU.resume()})}),eU},pop:function(t,u){undefined!==t&&U(t);var l,f=eU.token(!0);if(1===ea.size())l=ea.top(),tt.login?(u||e_("onPop",[l,null]),eg(),e_("onExit")):eU.error(eM().canExitError);else{f&&ev();var p=ea.pop();if(l=ea.top(),eC(),eU.set_mask(l.mask),u||e_("onPop",[p,l]),e4&&eU.get_prompt()!==eM().login+": "&&(e4=!1),is_function(p.onExit))try{p.onExit.call(eU,eU)}catch(t){p.onExit=$.noop,O(t,"onExit")}}return eU},option:function(t,u){if(void 0===u){if("string"==typeof t)return tt[t];"object"==typeof t&&$.each(t,function(t,u){tt[t]=u})}else tt[t]=u,t.match(/^num(Chars|Rows)$/)&&N();return eU},invoke_key:function(t){return es.invoke_key(t),eU},keymap:function(t,u){if(0==arguments.length)return es.keymap();if(void 0===u){if("string"==typeof t)return es.keymap(t);$.isPlainObject(t)&&(t=$.extend({},tw,$.omap(t||{},function(t,u){return tw[t]?function(l,f){return u.call(eU,l,function(){return tw[t](l,f)})}:u.bind(eU)})),es.keymap(null).keymap(t))}else if("function"==typeof u){var l=t;tw[l]?es.keymap(l,function(t,f){return u.call(eU,t,function(){return tw[l](t,f)})}):es.keymap(l,u.bind(eU))}},level:function(){return ea.size()},reset:function(){return e7(function(){for(eU.clear();ea.size()>1;)ea.pop();ew()}),eU},purge:function(){return e7(function(){var t=eU.prefix_name()+"_",u=to.get(t+"interpreters");u&&$.each(JSON.parse(u),function(t,u){to.remove(u+"_commands"),to.remove(u+"_token"),to.remove(u+"_login")}),es.purge(),to.remove(t+"interpreters")}),eU},destroy:function(){return e7(function(){es.destroy().remove(),eU.resizer("unbind"),eU.touch_scroll("unbind"),tp.resizer("unbind").remove(),tD.resizer("unbind").remove(),$(document).unbind(".terminal_"+eU.id()),$(window).unbind(".terminal_"+eU.id()),eU.unbind("click mousedown mouseup"),eU.removeData("terminal").removeClass("terminal").unbind(".terminal"),tt.width&&eU.css("width",""),tt.height&&eU.css("height",""),$(window).off("blur",tb).off("focus",tC),eU.find(".terminal-fill, .terminal-font").remove(),eU.stopTime(),terminals.remove(eX),ec&&(ec.unobserve?ec.unobserve(eU[0]):clearInterval(ec));var t=eU.find(".terminal-scroll-marker");if(ei&&ei.unobserve(t[0]),t.remove(),ef&&ef.disconnect(),terminals.length()||$(window).off("hashchange"),is_mobile&&eU.off("touchstart.terminal touchmove.terminal touchend.terminal"),Q.remove(),tc.remove(),G){var u=$(G);"full-screen-terminal"===u.attr("class")?u.removeAttr("class"):u.removeClass("full-screen-terminal"),eU.remove()}tn=!0}),eU},scroll_to:function(t){var u=tc.scrollTop()-eU.offset().top+$(t).offset().top;return tc.scrollTop(u),eU},scroll_to_bottom:function(){var t;return t=eU.prop?tc.prop("scrollHeight"):tc.attr("scrollHeight"),tc.scrollTop(t),eU},is_bottom:function(){var t;return -1!==tt.scrollBottomOffset&&("boolean"==typeof er?er:(t=tc[0].scrollHeight,tc[0].scrollTop+tc[0].offsetHeight>t-tt.scrollBottomOffset))},duplicate:function(){var t=$(eU);return $.extend(t,eK)},get_output_buffer:function(t){var u=$.extend({html:!1},t),l=[],f=!1;return(tr.forEach(function(t){if(t){if(is_function(t.finalize))f=!t.newline;else{var p;if(p=u.html?t.line:t.raw,f){var D=l.length-1;l[D]+=p}else l.push(p)}}}),u.html)?l.map(function(t){return"<div>"+t+"</div>"}).join("\n"):l.join("\n")},clear_buffer:function(){return tr.clear(),eU}},function(t,u){return function(){if(tn&&!tt.exceptionHandler)throw new $.terminal.Exception(eM().defunctTerminal);try{return u.apply(eU,[].slice.apply(arguments))}catch(u){if("exec"!==t&&"resume"!==t&&O(u,u.type||"TERMINAL",!0),!tt.exceptionHandler)throw u}}});if($.extend(eU,eK),0===eU.length){var eJ=sprintf(eM().invalidSelector);throw new $.terminal.Exception(eJ)}eU.data("terminal",eU);var eY=[],eV=!1,eG=0,eX=terminals.length(),eZ=!1,eQ=new Stack,e0=new DelayQueue,e3=!1,e8=!1,e6=new DelayQueue,e7=eN(e6),e9=eN(e0),e4=!1,e5=$.noop,te=[],tt=$.extend({},$.terminal.defaults,{name:eU.selector,exit:!!(u&&u.login||!u)},u||{});"number"==typeof tt.width&&eU.width(tt.width),"number"==typeof tt.height&&eU.height(tt.height),delete tt.formatters;var tn=!1,tr=new FormatBuffer(function(t){return{linksNoReferrer:tt.linksNoReferrer,linksNoFollow:tt.linksNoFollow,anyLinks:tt.anyLinks,charWidth:th.width,useCache:tt.useCache,escape:!1,allowedAttributes:t.allowedAttributes||[]}}),ti=new OutputLines(function(){return tt}),to=new l(tt.memory),tu=tt.enabled,ta=!1,ts=!1,tl=!0;!0===tt.ignoreSystemDescribe&&(tt.describe=!1),$(document).bind("ajaxSend.terminal_"+eU.id(),function(t,u){requests.push(u)});var tc=$('<div class="terminal-scroller"/>').appendTo(eU),tf=$('<div class="terminal-wrapper"/>').appendTo(tc);$(broken_image).hide().appendTo(tf);var tp=$('<div class="terminal-font">&nbsp;</div>').appendTo(eU),tD=$('<div class="terminal-pixel"/>').appendTo(eU),tm=$('<div class="terminal-fill"/>').appendTo(tc);Q=$("<div>").addClass("terminal-output").attr("role","log").appendTo(tf),eU.addClass("terminal");var td=t_(),th=get_char_size(eU),tg=!terminal_ready(eU);if(tt.login&&!1===e_("onBeforeLogin")&&(tl=!1),"string"==typeof t)ep=t;else if(is_array(t)){for(var tv=0,ty=t.length;tv<ty;++tv)if("string"==typeof t[tv]){ep=t[tv];break}}function tC(){el&&(eU.focus(),eU.scroll_to_bottom())}function t_(){return tD[0].getBoundingClientRect().width||1}function tb(){el=tu,eU.disable().find(".cmd textarea").trigger("blur",[!0])}function tF(t){if(is_function(t)&&(t=t()),t&&is_function(t.then))return t.then(tF);if("string"!==get_type(t)){if(is_function(tt.parseObject)){var u=tt.parseObject(t);"string"===get_type(u)&&(t=u)}else t=is_array(t)?$.terminal.columns(t,eU.cols(),tt.tabs):String(t)}return t}function tE(t){if(t.proxy)return t;var u=function(u){return t.call(eU,u,eU)};return u.proxy=!0,u}function tx(t){function u(t,u){return -1!==t.type.indexOf(u)}function l(t){eU.echo('<img src="'+t+'"/>',{raw:!0})}function f(t){return(window.URL||window.webkitURL).createObjectURL(t)}function p(t,u){if(u)t instanceof Blob?l(f(t)):"string"==typeof t&&(t.match(/^(data:|blob:)/)?l(t):eU.insert(t));else{var D={target:eU};"string"==typeof t?D.text=t:t instanceof Blob&&(D.image=f(t));var h=e_("onPaste",[D]);if(h){if(is_function(h.then||h.done))return(h.then||h.done).call(h,function(t){p(t,!0)});p(h,!0)}else!1!==h&&p(D.image||D.text,!0)}}if((t=t.originalEvent).clipboardData&&eU.enabled()){var D=t.clipboardData.items;if(D)for(var h=0;h<D.length;h++)u(D[h],"image")&&tt.pasteImage?p(D[h].getAsFile()):u(D[h],"text/plain")&&D[h].getAsString(function(t){p(t.replace(/\r/g,""))});else t.clipboardData.getData&&p(t.clipboardData.getData("text/plain").replace(/\r/g,""));return!1}}is_function(tt.login)?eD=tt.login:ep&&("string"==typeof tt.login||!0===tt.login)&&(eD=R(ep,tt.login)),terminals.append(eU),$(document).on("paste.terminal_"+eU.id(),tx);var tw=$.extend({},eB,$.omap(tt.keymap||{},function(t,u){return eB[t]?function(l,f){return u.call(eU,l,function(){return eB[t](l,f)})}:u.bind(eU)}));return S(t,tt.login,function(t){(tt.completion&&"boolean"!=typeof tt.completion||!tt.completion)&&(t.completion="settings");var u,l=tt.prompt;function f(t){!is_mobile&&(t=t.originalEvent)&&!$(document.elementFromPoint(t.clientX,t.clientY)).closest(".terminal").length&&eU.enabled()&&eU.disable()}is_function(l)&&(l=tE(l)),ea=new Stack($.extend({},tt.extra,{name:tt.name,prompt:l,keypress:tt.keypress,keydown:tt.keydown,resize:tt.onResize,greetings:tt.greetings,mousewheel:tt.mousewheel,history:tt.history,keymap:tw},t)),es=$("<div/>").appendTo(tf).cmd({tabindex:tt.tabindex,mobileDelete:tt.mobileDelete,mobileIngoreAutoSpace:tt.mobileIngoreAutoSpace,prompt:!eD&&l,history:tt.memory?"memory":tt.history,historyFilter:tt.historyFilter,historySize:tt.historySize,caseSensitiveSearch:tt.caseSensitiveSearch,onPaste:tt.onPaste,width:"100%",enabled:!1,charWidth:th.width,keydown:eT,keymap:tw,clickTimeout:tt.clickTimeout,holdTimeout:tt.holdTimeout,holdRepeatTimeout:tt.holdRepeatTimeout,repeatTimeoutKeys:tt.repeatTimeoutKeys,allowedAttributes:tt.allowedAttributes,keypress:eS,tabs:tt.tabs,onPositionChange:function(){var t=[].slice.call(arguments);eF(),e_("onPositionChange",t)},onCommandChange:function(t){eo!==tm.width()&&eU.resizer(),e_("onCommandChange",[t]),eF()},commands:eh}),eU.oneTime(100,function(){$(document).bind("click.terminal_"+eU.id(),f).bind("contextmenu.terminal_"+eU.id(),f)});var p=$(window);function D(){th.width!==(th=get_char_size(eU)).width&&es.option("charWidth",th.width).refresh()}function h(){if(eU.is(":visible")){var t=tc.width(),u=tm.height(),l=t_();css(eU[0],{"--pixel-density":l}),!tg||(tg=!terminal_ready(eU))||(th=get_char_size(eU),D()),(eu!==u||eo!==t||td!==l)&&eU.resize(),eu=u,eo=t,td=l}}function g(){var t={prefix:"terminal-"};eU.resizer("unbind").resizer(h,t),tp.resizer("unbind").resizer(function(){D(),eU.resize()},t),tD.resizer("unbind").resizer(function(){td=t_(),eU.resize()},t)}function y(t){er=1===t[0].intersectionRatio}function C(){ec&&(ec.unobserve?ec.unobserve(eU[0]):clearInterval(ec));var t=eU.enabled(),u=eU.is(":visible");function l(){eU.is(":visible")&&!u?(u=!0,g(),D(),h(),t&&eU.enable(),tf.css("visibility","")):u&&!eU.is(":visible")&&(u=!1,t=$.terminal.active()===eU&&eU.enabled(),eU.disable(),tf.css("visibility","hidden"))}t&&!u&&eU.disable(),u?g():tf.css("visibility","hidden"),window.IntersectionObserver&&"fixed"!==eU.css("position")?(ec=new IntersectionObserver(l,{root:null})).observe(eU[0]):ec=setInterval(l,100)}document.addEventListener("resume",function(){eU.disable()}),is_mobile?function(){eU.addClass("terminal-mobile");var t,u,l,f,p=3,D=es.clip(),h=200;D.$node.off("touchstart.cmd"),eU.on("touchstart.terminal",function(u){if(u=u.originalEvent,window.touch_event=u,"a"!==u.target.tagName.toLowerCase()&&!ta&&1===u.touches.length){l=eU.enabled();var p=u.touches[0];t={x:p.clientX,y:p.clientY},f=setTimeout(function(){t=null},h)}}).on("touchmove.terminal",function(l){if(1===l.touches.length&&t){var f=l.touches[0],D=Math.abs(f.clientX-t.x),h=Math.abs(f.clientY-t.y);(D>p||h>p)&&(u=!0)}}).on("touchend.terminal",function(){t&&(clearTimeout(f),u||(l?(D.blur(),eU.disable()):(D.focus(),eU.focus()))),u=!1,t=null})}():(p.on("focus.terminal_"+eU.id(),tC).on("blur.terminal_"+eU.id(),tb),function(){var t,l=0,f="click_"+eU.id(),p=eU.find(".cmd textarea");function D(){if(t.is(".terminal")||t.is(".terminal-scroller")||t.is(".terminal-wrapper")){var u=eU.get_command().length;eU.set_position(u)}else t.closest(".cmd-prompt").length&&eU.set_position(0);p.is(":focus")||p.focus(),h()}function h(){l=0,t=null}var g=".terminal-output textarea,.terminal-output input";eU.mousedown(function(u){scrollbar_event(u,tm,td)||(t=$(u.target))}).mouseup(function(){if(u){u=!1;return}if(t&&t.closest(g).length)tu&&eU.disable();else if(""===get_selected_html()&&t){if(1==++l){if(!ta){if(tu){var p=tt.clickTimeout;eU.oneTime(p,f,D);return}eU.focus(),eU.scroll_to_bottom()}}else eU.stopTime(f)}h()}).dblclick(function(){h(),eU.stopTime(f)})}(),function(){var t,l=es.clip().$node;function f(t){return"mousedown"===t.type&&2===t.buttons||"contextmenu"===t.type}t="oncontextmenu"in window?"contextmenu.terminal":"mousedown.terminal",eU.on(t,function(t){if((u=""===get_selected_html()&&f(t)&&!t.ctrlKey)&&!$(t.target).is("img,value,audio,object,canvas,a")){eU.enabled()||eU.enable();var p=es.offset(),D=es[0].getBoundingClientRect(),h=eU.offset().top-p.top,g=Math.max(t.pageY-p.top-20,h),y=t.pageX-p.left-20,C=56,F=70,E=eU[0].getBoundingClientRect(),w=tm.outerWidth()*td,A=g+D.top+C;A=A-E.height-E.top;var B=y+D.left+F;B=B-w-E.left,A>0&&(C-=Math.ceil(A)),B>0&&(F-=Math.ceil(B)),l.attr("style",[style_prop("left",y,!0),style_prop("top",g,!0),style_prop("width",F,!0),style_prop("height",C,!0)].join(";")),l.is(":focus")||l.focus(),eU.stopTime("textarea"),eU.oneTime(100,"textarea",function(){var t={left:"",top:"",width:"",height:""};if(!is_css_variables_supported){var u=eU.find(".cmd .cmd-cursor-line").prevUntil(".cmd-prompt").length;t.top=14*u+"px"}l.css(t)}),eU.stopTime("selection"),eU.everyTime(20,"selection",function(){l[0].selection!==l[0].value&&get_textarea_selection(l[0])&&(clear_textarea_selection(l[0]),select(eU.find(".terminal-output")[0],eU.find(".cmd div:last-of-type")[0]),eU.stopTime("selection"))})}})}(),eU.on("scroll",function(){var t=eU.find("textarea"),u=eU[0].getBoundingClientRect(),l=eU[0].scrollHeight,f=tc.scrollTop(),p=l-(f+u.height);0===p?t.css("top",""):t.css("top",-p)})),eU.on("click","a",function(t){var u=$(this);if(u.closest(".terminal-exception").length){var l=u.attr("href");l.match(/:[0-9]+$/)&&(t.preventDefault(),F(l,eU.cols()))}tu&&eU.find(".cmd textarea").focus()}),h(),function(){if(window.IntersectionObserver){var t=$('<div class="terminal-scroll-marker"/>').appendTo(tc),u=t;-1!==tt.scrollBottomOffset&&(u=$('<div style="'+style_prop("height",tt.scrollBottomOffset)+'"/>').appendTo(t)),(ei=new IntersectionObserver(y,{root:tc[0],rootMargin:"0px",threshold:1})).observe(u[0])}}(),eU.is(":visible")&&g();var E=!!eU.closest("body").length,w=window.MutationObserver||window.WebKitMutationObserver;function A(t,u){var l=terminals.get()[t[0]],f=$.Deferred();if(l&&eX===l.id())return t[2]?ts?(ed.push(function(){return l.exec(t[2],u).done(function(){l.save_state(t[2],!0,t[1]),f.resolve()})}),f.promise()):l.exec(t[2],u).done(function(){l.save_state(t[2],!0,t[1])}):(f.resolve(),f.promise())}w&&(ef=new w(function(){eU.closest("body").length?(E||(eU.scroll_to_bottom(),C(),h()),E=!0):E&&(E=!1)})).observe(document.body,{childList:!0}),E&&C(),e0.resolve(),tu&&eU.is(":visible")&&!is_mobile?eU.focus(undefined,!0):eU.disable(),is_function(eD)?eU.login(eD,!0,ew):ew(),tt.execHash&&location.hash?setTimeout(function(){try{var t=location.hash.replace(/^#/,"");hash_commands=JSON.parse(decodeURIComponent(t)),t.match(/\[/)||eE(hash_commands);var u=0,l={typing:tt.execAnimation,delay:tt.execAnimationDelay};!function t(){var f=hash_commands[u++];f?A(f,l).done(t):change_hash=!0}()}catch(t){}}):change_hash=!0,function(){var t=!1;function u(u,l){if(!t){var f,p=ea.top();if(is_function(p.mousewheel)?f=p.mousewheel(u,l,eU):is_function(tt.mousewheel)&&(f=tt.mousewheel(u,l,eU)),!0!==f){if((q()||!1===f)&&!u.ctrlKey&&(u.stopPropagation(),u.preventDefault()),!1===f)return!1;l>0?eU.scroll(-40):eU.scroll(40)}}}if($(document).bind("keydown.terminal_"+eU.id(),function(u){u.shiftKey&&(t=!0)}).bind("keyup.terminal_"+eU.id(),function(u){(u.shiftKey||16===u.which)&&(t=!1)}),$.event.special.mousewheel)tc.on("mousewheel",u);else{var l,f=document.createElement("div");l="onwheel"in f?"wheel":undefined!==document.onmousewheel?"mousewheel":"DOMMouseScroll",f=null,eU.on(l,function(t){var f;f="mousewheel"===l?-.025*t.originalEvent.wheelDelta:t.originalEvent.deltaY||t.originalEvent.detail,u(t,-f)})}tc.touch_scroll(function(t){var u,l=t.current.clientY-t.previous.clientY,f=ea.top();if(is_function(f.touchscroll)?u=f.touchscroll(t,l,eU):is_function(tt.touchscroll)&&(u=tt.touchscroll(t,l,eU)),css(eU[0],{"--terminal-scroll":eU.prop("scrollTop")}),!0!==u)return!1})}()}),eU}})}}]);